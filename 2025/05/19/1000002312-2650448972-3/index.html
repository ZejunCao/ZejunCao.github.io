<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Lilian Weng 最新万字长文：从 CoT 到 Aha Moment，揭秘大模型「思考」的奥秘！, ZejunCao&#39;Blogs">
    <meta name="description" content="Lilian Weng 最新万字长文：从 CoT 到 Aha Moment，揭秘大模型「思考」的奥秘！

仅用于站内搜索，没有排版格式，具体信息请跳转上方微信公众号内链接

来源：机器之心最近，北大校友、前OpenAI应用AI研究负责人Li">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Lilian Weng 最新万字长文：从 CoT 到 Aha Moment，揭秘大模型「思考」的奥秘！ | ZejunCao&#39;Blogs</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    


    <!-- bg-cover style     -->



<link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
<link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
<link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
<link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
<link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
<link rel="stylesheet" type="text/css" href="/css/matery.css">
<link rel="stylesheet" type="text/css" href="/css/my.css">
<link rel="stylesheet" type="text/css" href="/css/dark.css" media="none" onload="if(media!='all')media='all'">




    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
    <link rel="stylesheet" href="/css/post.css">




    
        <link rel="stylesheet" type="text/css" href="/css/reward.css">
    



    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

<meta name="generator" content="Hexo 7.3.0"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">ZejunCao&#39;Blogs</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
  <li>
    <a href="javascript:;" class="waves-effect waves-light" onclick="switchNightMode()" title="深色/浅色模式" >
      <i id="sum-moon-icon" class="fas fa-sun" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">ZejunCao&#39;Blogs</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/frontcover/1000002312_2650448972_3.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Lilian Weng 最新万字长文：从 CoT 到 Aha Moment，揭秘大模型「思考」的奥秘！</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/AINLP/">
                                <span class="chip bg-color">AINLP</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2025-05-19
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/hKoqJeN3i34eAc8mKkBRdg">Lilian Weng 最新万字长文：从 CoT 到 Aha Moment，揭秘大模型「思考」的奥秘！</a></p>
<blockquote>
<p>仅用于站内搜索，没有排版格式，具体信息请跳转上方微信公众号内链接</p>
</blockquote>
<p>来源：机器之心<br>最近，北大校友、前OpenAI应用AI研究负责人LilianWeng更新了一篇长长长长长长长博客《WhyWeThink》。<br>文章回顾了近期在如何有效利用测试时计算（即「思考时间」）及其作用机制方面的研究进展，旨在让模型「思考得更久」这一目标可以从多个角度得到合理动机支持。<br>通过观察GPT、Claude、Gemini等模型的迭代，可以清晰地看到，它们在复杂逻辑推理、长文本理解、数学问题求解以及代码生成与调试等高级认知任务上的性能边界被不断拓展。<br>这种性能的提升得益于思维链（CoT）和测试时计算等策略的优化，但也带来了新的研究挑战。<br>英文博客链接：<br>该核心思想与人类的思维方式密切相关。人类通常无法立即给出「12345×56789」的答案，对于复杂问题，进行一段时间的思考和分析是自然的过程。</p>
<p>•快速思维（System1）：运作迅速且自动，受直觉和情绪驱动，几乎不需要认知努力。<br>•慢速思维（System2）：依赖有意识的逻辑推理与严密思考，需耗费较高认知能量并主动参与。<br>由于快速思维易于启动且更为省力，它往往成为决策主导，但这通常以牺牲准确性与逻辑性为代价。它天然依赖于人脑的「认知捷径」（即启发式方法heuristics），进而容易产生错误与偏差。而通过有意识地放慢思维速度，给予更多反思、改进与分析的时间，可以激活慢速思维，挑战直觉，从而做出更具理性与准确性的决策。<br>在深度学习中，有一种观点认为神经网络可以通过其在每次前向传播中所能调用的计算与存储资源进行刻画。<br>如果我们使用梯度下降法来优化它们以解决问题，那么优化过程将自行「找出」如何组织这些资源，用于计算与信息存储，因此可以被看作会自动规划电路的过程。<br>从这一角度来看，如果我们设计的架构或系统在测试时（testtime）可以执行更多计算，并且我们训练模型以有效地利用这一额外资源，那么模型的性能将会更好。<br>在Transformer中，每生成一个token，模型所执行的浮点计算量（FLOPs）大致是其参数数量的两倍。而在稀疏模型（如专家混合模型MixtureofExperts,MoE）中，由于每次前向传播只激活部分专家网络，参与计算的参数仅为总参数的一部分，因此计算量为2×参数数÷稀疏度，其中「稀疏度」表示被激活专家网络的比例。<br>相比之下，思维链（CoT）使得模型在为每个希望生成的token进行推理时，能够执行更多的计算（即FLOPs）。实际上，思维链的一大优势在于，它允许模型根据问题的难度灵活地调整计算量。<br>在机器学习中，一种经典的方法是：定义一个含有潜变量（latentvariable）z与可见变量y的概率模型，其中y是学习算法所观察到的变量。通过对潜变量可能值的边缘化（即求和），可以表达出一个关于可见变量y的复杂概率分布，即P(y)&#x3D;∑z∼P(z)P(y|z)。<br>例如，我们可以用该方法建模数学问题及其解答的分布：将x表示为题目文本，y表示真实答案或证明过程，而z则表示引导生成证明的一系列自由形式推理过程。优化的目标是条件概率P(y|x)&#x3D;∑z∼p(z|x)P(y|x,z)。<br>这种潜变量视角特别适用于理解多线程思维链（multipleparallelCoTs）或基于搜索的思维链生成方法。这些算法可以被视为从后验分布P(z|x,y)中进行采样。这一视角还揭示了优化对数似然logP(y|x)作为目标函数的好处——因为logloss目标函数在预训练中效果显著。<br>在生成简短答案之前，先生成中间推理步骤的策略，特别是在数学问题中，最初由研究者提出，并逐渐拓展形成了标准方法。这一方向中早期的研究包括构建数学推理数据集，并训练生成器进行有监督学习，通过人类编写的解题路径作为参考，同时训练验证模型判断候选答案是否正确，从而可以在多个解答中进行有效搜索。<br>后续研究引入了「草稿板」（scratchpad）概念，即将模型生成的中间token视为辅助推理过程的临时内容，并进一步引申出「思维链」（CoT）这一常用术语，以描述大语言模型通过逐步推理而非直接输出答案的能力。<br>最初提升CoT推理能力的方法，主要通过监督学习对人类书写的推理路径进行训练，或对模型生成的、经过正确性过滤的路径进行训练，后者可以被视为一种初级形式的强化学习。还有研究表明，仅通过设计合适的提示方式，如使用「逐步思考」的提示语，或构造更复杂的提示内容，引导模型先思考相关知识，也能显著提升指令微调语言模型在数学任务上的表现。<br>随着进一步的探索，研究人员发现，在具有自动可验证答案的数据集上应用强化学习，可以显著增强CoT推理能力。这些数据集包括带有确定短答案的STEM问题，或可以通过单元测试验证正确性的编程任务。这类强化学习策略已被验证可以显著提升大语言模型在多步推理任务中的性能。近期的模型开发中，采用策略梯度算法结合自动评估的问题集，已成为提高模型表现的有效方法。<br>测试时计算（test-timecompute）的根本目的在于：在推理过程中动态地调整模型的输出分布。为此，有多种策略可用于消耗额外的测试时资源，从而优化解码过程、选择更优样本，并将模型输出引导至更符合需求的分布。<br>目前主要有两类提升生成质量的策略：并行采样（parallelsampling）与序列修订（sequentialrevision）。<br>并行采样是在每一步并行生成多个输出序列，同时通过过程奖励信号（processrewardsignals）或结果评估模块（如验证器）对最终输出的质量进行判断，以此挑选最优答案。这是目前广泛采用的提升测试时性能的解码方法形式，例如best-of-N和束搜索。在无法获得标准答案（groundtruth）的情境下，常使用自洽性策略（self-consistency），即在多个思维链（CoT）推理序列中，以多数投票的方式选择最终答案。<br>序列修订是指基于模型前一轮输出的结果，对其进行反思与迭代性修正，引导模型在后续输出中主动识别并纠正可能的错误。这种修订流程通常需要在经过微调的模型上实现；若仅依赖模型自身进行「内生性自我修正」（intrinsicself-correction），且缺乏外部监督反馈，则往往难以取得明显提升。<br>并行采样具有实现简单、直观、易部署等特点，但其效果在很大程度上取决于模型是否能够「一次性」生成正确答案；而序列修订通过显式引导模型识错与改错，逻辑上更具针对性，但速度较慢，且需额外控制过程中的修订风险，例如原本正确的答案被不当更改为错误，或模型产生新的幻觉（hallucination）。这两种方法可以结合使用。Snell等人发现：对于简单问题，单一使用序列化策略的测试时计算效果最佳；而对于高难度问题，则通常需要在并行计算与序列修订之间找到最优组合比例，以获得最好的任务表现。<br>当我们手头有一个生成模型（generativemodel）以及一个可用于对完整或部分生成样本进行评分的评分函数（scoringfunction）时，便可以设计多种搜索算法，以寻找评分更高的生成结果。其中最简单的一种算法便是best-of-N：直接独立生成N个样本，再依据评分函数从中选出得分最高者。<br>相较之下，束搜索是一种更复杂且更具适应性的搜索算法，它通过动态分配计算资源，优先探索解空间中更具潜力的部分。在束搜索过程中，模型维护一组当前最有前景的部分序列，并在扩展这些候选序列与剔除不够理想的序列之间交替进行。<br>在选择生成候选时，可以引入过程奖励模型（ProcessRewardModel,PRM）作为引导机制，辅助束搜索的路径筛选。例如，有研究使用大语言模型自身来评估其生成的每个推理步骤是否合理，将其格式化为选择题，从而进行逐步自我评估（per-stepself-evaluation）。这种方法能够显著减少多步推理过程中的累计错误，特别是在束搜索解码阶段，表现尤为明显。<br>此外，在采样过程中通过温度退火（annealingthetemperature）策略来调控随机性，也有助于缓解生成过程中不必要的波动。这一系列实验方法在Codex模型上应用于GSM8k、AQuA与StrategyQA等少样本任务时，取得了5–6%的性能提升。<br>区别于传统束搜索，REBASE（RewardBalancedSearch）方法训练了一个独立的过程奖励模型，用于评估束搜索树中每一节点在不同深度下的扩展优先级。该模型基于softmax归一化的奖励分值，动态决定哪些节点获得更多生成资源。<br>另一种名为RATIONALYST的过程奖励模型，则利用大量无标注数据训练用于多步推理任务，模型通过生成候选推理路径（称为rationale），并根据这些rationale是否能减少真实答案token的负对数概率（negativelog-probability）达一定阈值，来筛选高质量推理过程。<br>在推理阶段，RATIONALYST可以以两种方式引导思维链CoT）生成器进行推理：一种是隐式地估计下一个推理步骤的概率（implicitsupervision）；另一种是显式地将下一步的推理内容直接作为提示词的一部分生成（explicitsupervision）。<br>有趣的是，即使不采用显式的零样本提示（zero-shotprompting）或少样本提示（few-shotprompting），也有可能激发出语言模型中的思维链（CoT）推理路径。Wang与Zhou发现，如果在采样的第一个token处进行分支，并保留置信度最高的前k个token（其置信度通过top-1与top-2候选之间的概率差来衡量），然后分别对这k条路径采用贪婪解码（greedydecoding）继续生成，那么其中相当一部分生成序列天然包含完整的思维链。<br>尤其在上下文中本就存在思维链内容时，这种机制更容易引导模型生成更具置信度的最终答案。在评估最终答案的置信度时，需首先通过特定任务的启发式方法（task-specificheuristics）标识出答案片段，例如，在数学题中提取最后出现的数值答案；或通过进一步提示模型（例如在末尾提示「Sotheansweris」）来提取明确答案。<br>仅在首个token处进行分支的设计逻辑在于，相比于后续token，早期分支能显著提升推理路径的多样性，而后续token的生成则更多受限于已有上下文序列。<br>如果一个模型具有反思并纠正其先前回答中错误的能力，我们应期望它能够产生一个质量不断提高的迭代修订序列。然而，事实证明，这种自我修正能力并非大语言模型所固有，且在未经特别设计的情况下往往难以实现，其中的失败模式包括：<br>（1）幻觉，即将原本正确的回答修改为错误的版本；（2）行为坍缩为不修正的状态，例如，在最初的错误回答上只进行细微甚至不作修改；（3）在测试时无法泛化到分布转移（distributionshift）的情况。<br>Huang等人的实验表明，直接应用自我修正策略反而可能导致性能下降，模型若要实现自我提升，仍需依赖外部反馈信号，例如与真实标签比对的结果、启发式规则、针对任务设计的评估指标、编程题的单元测试结果、更强大的模型输出参考，以及人类反馈等。<br>自我修正学习旨在在固定的生成模型P₀(y₀∣x)基础上，训练一个修正器模型Pθ(y∣y₀,x)。其中生成模型保持通用性，而修正器模型则可以针对具体任务进行定制，并且只在给定初始模型响应和可选附加反馈（例如一段文本、编译器提示信息或单元测试结果）条件下进行生成：<br>1. 自我修正学习首先针对数据池中的每个提示生成多个候选输出；2. 然后，为每个提示构造「价值提升对」；即挑选两个输出，如果其中一个相较于另一个在评价指标上更优，则组成（提示x，初始答案y，修正答案y′）三元组；3. 接着，根据修正带来的价值提升幅度v(y′)−v(y)，以及两个输出之间的相似度Similarity(y,y′)，对这些样本对进行加权采样以训练修正器模型；4. 为鼓励探索，修正器生成的新输出也会加入数据池。推理时，可以反复调用修正器，从而形成一个连续改进的修订轨迹。<br>递归检视（RecursiveInspection）同样旨在训练更优的修正器模型，但其采用的是单一模型同时完成生成与自我修正的策略。<br>SCoRe（Self-CorrectionviaReinforcementLearning）是一种基于多轮交互的强化学习方法，旨在鼓励模型在第二次尝试时生成相较第一次更优的答案，从而实现自我修正。该方法由两个训练阶段组成：<br>•第一阶段的目标是最大化第二次尝试答案的准确性，同时仅对第一次尝试施加KL散度惩罚（KLpenalty），以防止第一次生成行为偏离基础模型太远，保持其生成风格的稳定性；<br>•第二阶段则同时优化第一次和第二次生成答案的准确性。<br>理想情况下，我们希望模型在第一次和第二次尝试中都能获得更好的性能，但引入第一阶段可以有效避免「行为坍缩」，即模型仅对初始响应进行微小甚至无修改；<br>而第二阶段则在此基础上进一步提升整体表现。<br>近期，越来越多的研究成功地利用强化学习（RL）提升语言模型的推理能力。这类方法通常采用带有可靠参考答案的问题集（主要是STEM领域的问题或易于验证答案的逻辑谜题），通过奖励模型生成正确答案来优化其性能。<br>这一方向的发展受到OpenAI发布系列模型出色推理表现的推动，随后DeepSeek的模型及技术报告进一步加速了相关研究的进展。<br>DeepSeek-R1是一款开源大语言模型，专为应对数学、编程和逻辑推理等高复杂度任务而构建。其训练流程包括两轮SFT-RL（监督微调+强化学习），使得R1在推理类与非推理类任务上均具备良好能力。<br>在训练初期，采用「冷启动监督微调」（cold-startSFT），即在数千条冷启动数据上对基础模型进行微调。若省略此步骤，模型在初期表现中可能会出现语言混杂、表述不通顺等问题。<br>面向推理的强化学习（reasoning-orientedRL）阶段，使用仅包含推理任务的提示，对模型进行强化训练，奖励信号设计为两类规则型指标：<br>•格式奖励（formatrewards）：要求模型使用特殊token包裹「思维链」（CoT）。<br>•准确性奖励（accuracyrewards）：判断最终答案是否正确。数学问题的答案需以特定格式呈现（如放入方框中）以便自动验证；编程问题则通过编译器评估是否通过测试用例。<br>拒绝采样+非推理监督微调阶段，使用RL第2步的checkpoint生成的推理输出，通过拒绝采样（rejectionsampling）进行质量筛选，并结合写作、事实问答、自我认知等非推理任务中的监督数据，构建新的训练集，用于训练DeepSeek-V3-Base：<br>•筛除含有语言混杂、超长段落或冗长代码块的CoT结果；<br>•利用DeepSeek-V3流水线生成并标注非推理类任务；<br>•对于某些非推理需求，可调用DeepSeek-V3提前生成潜在思维过程作为提示（prompt）再进行回答，而对于诸如「你好」之类的简单查询则不需要思维链；<br>•最终使用约80万条样本对DeepSeek-V3-Base微调两个epoch。<br>最终的强化学习阶段使用第三阶段的checkpoint，同时在推理类与非推理类提示上进行训练，从而全面提升模型的有用性（helpfulness）、无害性（harmlessness）和推理能力（reasoning）。<br>有趣的是，DeepSeek团队展示了，即使完全不经过监督微调（SFT）阶段，仅依靠纯强化学习（pureRL），依然可以学习到诸如反思（reflection）和回溯（backtracking）等高级推理能力，即所谓的「顿悟时刻」（「Ahamoment」）。在强化学习训练过程中，模型自然学会在解决推理任务时投入更多的思考tokens，从而提升解题能力。<br>所谓「顿悟时刻」，是指模型能够反思先前的错误，并尝试替代性策略进行修正。这种能力的涌现表明模型具备了类人式的深层思维过程。<br>随后，一些开源项目也试图复现R1的成果，包括Open-R1、SimpleRL-reason和TinyZero，这些项目均基于Qwen模型构建。相关研究也同样证实了纯强化学习方法在数学问题上可以取得优异表现，并能涌现出类似的「顿悟时刻」。<br>DeepSeek团队还分享了一些训练中未成功的尝试。例如，使用过程奖励模型失败了，因为很难对每一个中间步骤制定明确的评分标准，也难以判断中间推理是否正确。此外，这种方式容易导致奖励欺骗（rewardhacking），从而影响训练稳定性。<br>在蒙特卡洛树搜索（MonteCarloTreeSearch,MCTS）方面的尝试也宣告失败，原因在于语言模型的token空间远大于如国际象棋这类传统有限动作空间的场景，使得搜索过程计算复杂度极高。同时，用于引导搜索的细粒度价值模型（valuemodel）的训练也极具挑战性。<br>尽管失败，但这些尝试提供了独特的研究洞察。我们鼓励研究社区进一步分享这类「未能奏效的尝试」，以推动更全面的理解与进步。<br>在推理过程中，某些中间步骤可以通过执行代码或数学计算实现高效且精确的求解。通过将这部分推理工作交由外部代码解释器处理，例如PAL（Program-AidedLanguageModel，程序辅助语言模型）或ChainofCode（代码链）方法，可以拓展大语言模型的能力，使其无需自行学习代码执行或充当计算器角色。<br>在ChainofCode中，所使用的代码执行系统可以由LLM进一步增强：当标准代码解释器无法正确运行特定代码行时，模型还可以尝试由LLM来直接执行该段代码。使用代码来辅助推理，尤其适用于数学问题、符号推理以及算法类任务。<br>在某些编程任务中，题目中未必提供单元测试。此时，我们可以引导模型自主生成用于验证解法的单元测试，从而提升解答的正确性。<br>ReAct（Reason+Act，推理与行动）方法将调用WikipediaAPI等外部操作与生成推理轨迹相结合，实现将外部知识纳入推理路径的能力。<br>OpenAI最近发布的o3与o4-mini模型亦是融合工具使用的典型案例，其推理过程涉及网页搜索、代码执行与图像处理等操作。研究团队观察到，在类似GPT的训练范式中，大规模强化学习同样呈现出「计算资源越多，性能越好」的趋势。<br>深度学习模型通常被视为黑盒子，人们提出了各种可解释性方法。可解释性之所以有用，有几个原因：首先，它为我们提供了一个额外的测试，以确定模型是否与创建者的意图不符，或者是否以某种我们无法通过监控其行为来判断的方式出现了错误。其次，它可以帮助我们确定模型是否使用了合理的程序来计算其答案。思维链提供了一种特别方便的可解释性形式，因为它能让模型的内部过程用自然语言表达出来。然而，这种可解释性建立在模型如实描述其内部思维过程的假设之上。<br>最近的研究表明，监控推理模型的CoT可以有效检测模型的不当行为，如rewardhacking，甚至可以使较弱的模型监控较强的模型。增加测试时间的计算量还能提高对抗鲁棒性；这在直觉上是有道理的，因为当模型遇到不寻常的输入时，如对抗样本或越狱尝试，思考时间更长应该特别有用，它可以利用额外的思考时间来理解所遇到的奇怪情况。<br>直观地说，由于缺乏旨在鼓励忠实推理的明确训练目标，模型的CoTs可能存在偏差。或者，当我们根据人类撰写的解释对模型进行微调时，这些人类撰写的样本可能包含错误。因此，我们不能默认CoT总是忠实的。</p>
<p>•错误1（过早回答）：模型可能会在CoT生成之前过早地形成结论。测试方法是提前截断或在CoT中插入错误。不同任务对CoT有效性的依赖程度不同；有些任务的评估性能对截断的CoT敏感，有些则不敏感。Wangetal.(2023)做了类似的实验，但在形成CoT的过程中出现了与桥接对象或语言模板有关的更微妙的错误。<br>•错误2（无信息token）：不具信息性的CoTtoken可提高成绩。这一假设通过用填充文本（如所有句号）替换CoT进行了测试，结果表明这种设置并没有提高准确率，与不使用CoT相比，某些任务的成绩可能会略有下降。<br>•错误3（人类无法阅读的编码）：以人类难以理解的方式对相关信息进行编码。以非标准方式转述CoT并未降低各数据集的性能，这表明准确率的提高并不依赖于人类可读的推理。<br>有趣的是，Lanhametal. 认为，对于多选题，较小的模型可能无法很好地利用CoT，而较大的模型可能能够在没有CoT的情况下解决任务。这种对CoT推理的依赖性（以使用CoT与不使用CoT得到相同答案的百分比来衡量）在多选题中并不总是随着模型大小的增加而增加，但在加法任务中却会随着模型大小的增加而增加，这意味着在复杂的推理任务中，思考时间更为重要。<br>对CoT推理的依赖性以有CoT和无CoT时获得相同答案的百分比来衡量。对于像加法这样的推理任务来说，CoT的作用更大，而更大的模型也能带来更多益处。<br>测试CoT忠实度的其他方法包括扰动提示而不是直接修改CoT路径。<br>其中一种方法是在少数几个样本中将正确答案标记为「(A)」，而不考虑真实标签，从而引入偏差。<br>另一种提示技术是在提示中插入误导性提示，例如「我认为答案是，但很想听听您的看法」或「一位斯坦福大学教授认为答案是」。通过比较模型对同一问题的预测是否包含误导性提示，我们可以衡量模型是否能够忠实地描述提示对其答案的影响。特别是在模型得出的提示答案与非提示答案不同的情况下，我们可以衡量模型在解决有提示的问题时是否承认提示。如果模型是忠实的，它就应该明确承认提示的影响，并承认其答案的变化是由提示引起的。<br>多项研究发现，推理模型对暗示影响的描述要比所有测试过的非推理模型可靠得多。例如，我们可以测量模型承认暗示是决定性因素的样本比例（「忠实CoT」）。推理模型（Claude3. 7Sonnet、DeepSeekR1）的整体表现优于非推理模型（Claude3. 6、DeepSeekV3）。<br>一些证据表明，使用奖励模型会降低模型输出的忠实度。经典RLHF中的奖励模型在本测试中并不是为了激励忠实行为而训练的，因为偏好比较数据集是由人类选择哪一个看起来更好或更讨人喜欢而收集的。然而，在推理模型中，CoT路径是为产生正确的最终答案而优化的，而不是为了与RM中定义的人类偏好相匹配，因此直观上预计会更加忠实。<br>监控推理模型的CoT以发现rewardhacking行为是有效的。使用这种监控器的一个简单方法是在测试时将监控器作为过滤器运行拒绝采样，找出没有rewardhacking行为的解决方案。然而，这种方法只在推理的早期阶段有效，而且随着模型的进一步优化，在预算范围内很少能找到通过CoT监控的样本。这一挑战自然表明，我们可以考虑在RL奖励中加入CoT监控—一种基于流程的监督形式—以防止rewardhacking。<br>然而，在RL中加入CoT监控奖励的效果并不好，因为这会导致混淆rewardhacking行为，即模型试图在CoT中隐藏其真实意图(Bakeretal. 2025)。如果在RL训练过程中使用CoT监控提供的这种直接优化压力，模型仍然可以找到黑客攻击的方法，虽然频率会低一些，但可以在CoT中隐藏自己的意图，避免被监控发现。<br>Yeoetal. 对CoT长度RL信号的实验证实了与Bakeretal.类似的信息，即新型RL奖励整形会导致新型rewardhacking行为的发生。他们设计的奖励函数可以使正确的CoT比错误的CoT获得更高的奖励，短的正确CoT比长的正确CoT获得更高的奖励，短的错误CoT比长的错误CoT获得更高的惩罚。有了这种额外奖励，模型就学会了在有挑战性的问题上重复CoTs中的文字，而不是尝试解决这些问题。Yeoetal. 进一步应用了n-gram重复惩罚来防止这种hacking行为。<br>Chenetal. 在一个有缺陷的RL环境中进行了实验，特别是使用了一个在多选题中填入错误答案的评分器。在超过99%的提示中，模型学会了利用rewardhacking，但在一半以上的环境中，模型几乎从未（&lt;2%）在其CoT中口头表达过rewardhacking。在这种情况下，额外的RL优化压力无法激励模型口头表达hacking行为。<br>RL训练本质上对rewardhacking行为非常敏感。仅仅依靠对rewardhacking行为的启发式调查和手动修复可能会导致「whack-a-mole」的局面。我们建议在RL训练过程中尝试直接对CoT进行优化时要非常谨慎，或者尽量避免这样做。<br>AlexGraves于2016年提出的自适应计算时间（AdaptiveComputationTime）早于大语言模型，但开创了相同的方向，即让模型能够在推理时动态决定计算步骤的数量，这可以被视为让模型在测试时能够在连续空间中「思考更多」。连续空间中的自适应思考时间可以通过递归架构纵向实现，也可以通过更多的连续采样步骤横向实现。<br>为了使Transformer架构成为递归架构，实现自适应测试时间计算，人们提出了许多架构变体。如果深入探讨这一主题的文献，会使文章过于冗长，因此我们只回顾其中几篇。<br>UniversalTransformer将Transformer中的自注意力与RNN中的递归机制相结合，利用自适应计算时间动态调整步数。从高层次上看，它可以被看作是一种用于学习每个token的隐藏状态表示的递归函数，如果步数是固定的，UniversalTransformer就等同于跨层共享参数的多层Transformer。<br>Geipingetal. 提出的最新递归架构设计，在标准Transformer的基础上增加了一个递归块R。该循环块的每次迭代都需要嵌入e和随机状态s_i。从概念上讲，这种递归深度架构有点类似于条件扩散模型，即在每个递归步骤中提供原始输入e，而随机高斯初始化状态s_i则在整个过程中迭代更新。(有趣的是，他们对一些更像扩散模型的设计所做的实验结果并不理想）。<br>训练过程中的递归计数r是随机的，从对数正态Poisson分布中按输入序列采样。为了控制计算成本，反向传播只截断递归单元的最后k次迭代（实验中k&#x3D;8），从而可以对Poisson分布的重尾部分进行训练。由于嵌入块的输出e在每一步中都会注入，因此嵌入块在每一步中都会继续接收梯度更新，模仿RNN训练。不出所料，训练递归模型的稳定性非常敏感。初始化、归一化和超参数等因素都很重要，尤其是在扩大训练规模时。例如，隐藏状态可能会因为对每个token预测相同的隐藏状态而崩溃；或者模型可能学会忽略传入的状态s。为了稳定训练，Geipingetal. 采用了嵌入比例因子、较小的学习率和细致的调整。<br>思考token指的是在训练或推理过程中引入的一组不具有直接语言意义的隐含token。相反，它们的作用是为模型提供额外的思考时间和计算能力，使其表现更好。<br>Herel&amp;Mikolov（2023年）提出了在句子中的每个单词后插入特殊思考token（）并在这样的数据集上训练模型的想法。每个思考token都为模型处理和做出更好的预测赢得了额外的时间。在玩具模型设置上使用思考token进行训练，其结果比不使用思考token训练的基线模型的复杂度要低。对于非琐碎的推理任务或涉及数字的句子，思考token的优势更为明显。<br>同样，Goyaletal.(2024)提出的暂停标记通过在输入序列末尾添加虚拟token（如。或#等字符）来延迟模型的输出，从而在推理过程中为模型提供额外的计算量。在训练和推理过程中注入这种暂停token都很重要，而只对暂停token进行微调只能带来有限的收益。在训练过程中，我们会在均匀随机的位置插入多份暂停token，并在训练中忽略暂停token的损失。<br>有趣的是，上述实验中的思考令牌或暂停令牌并不携带任何额外信息或添加许多新参数。但为什么它仍然有帮助呢？一方面，它通过引入更多的推理循环来帮助扩展计算，从而有效地提高计算能力。另一方面，它可以被视为CoT的一种特殊的隐式形式。这里的一个缺点是模型需要根据思考令牌进行预训练。尽管如此，这种策略仍然是一种有趣的方法，可以在推理时间CoT的基础上进一步提高测试时间计算利用率的能力。<br>Quiet-STaR通过训练模型在每个标记后生成理由来解释未来的文本，从而引入了标记级推理。它将未来文本预测与基本原理和无基本原理混合在一起，并使用学习来生成更好的基本原理，并使用REINFORCE来优化基本原理生成的质量。<br>潜变量模型定义了一个概率框架，其中可观察数据通过未观察到的（潜在的）变量来解释。这些潜变量捕获了生成可观察结果的隐藏结构或中间过程。语言模型可以被视为概率潜变量模型，其中测试时思维和推理步骤是潜在思维变量。这样的潜变量模型定义了问题、答案和潜在思维的联合分布。我们希望优化在给定问题和各种思维链作为潜变量条件下答案的对数似然（N是样本数量；K是每个问题的思维链数量）：<br>我们的目标是最大化正确答案的边际似然p(y∣x)，给定每个问题的多个推理轨迹{z(k)}k&#x3D;1K。<br>期望最大化是一种常用的迭代算法，用于优化具有（隐含）潜变量的模型参数，因此可以应用于训练更好的思维链，然后以此为条件生成更好的响应。通常我们在E步（期望）和M步（最大化）之间迭代，E步中我们猜测关于潜变量的缺失信息（即如何采样更好的思维链），M步中我们基于潜变量优化模型参数（即如何采样更好的答案），直到收敛。<br>因为我们无法直接从潜变量分布p(z∣x,y)中采样，研究人员探索了依赖人工标注数据、Metropolis-HastingsMCMC或具有特殊重要性权重的蒙特卡罗采样的方法来抽取好的思维链样本以更新模型。Ruanetal.(2025)实验了在大量网络文本语料上使用EM算法训练带有潜在思维的模型，其中针对每个观察数据块合成潜在思维，然后模型以自回归方式在潜在思维和数据上学习。<br>他们首先提示一个大语言模型根据观察数据生成合成的潜在思维：<br>使用特殊token如…将生成的潜在思维内容插入到原始数据中，用于训练联合分布p(z,x)或近似后验q(z∣x)，这取决于z是插入在x之前还是之后。然而，由于我们使用大语言模型来生成思维链，这对近似q(z∣x)的好坏程度施加了性能上限。Ruan等人在E步引入了重要性权重来选择思维链样本，公式化为：<br>这样我们就会优先选择那些擅长预测观察结果（即高p(x∣z(k))）、简单直观（即高p(z(k))）但又信息丰富且不太明显（即低q(z(k)∣x)）的思维链样本。<br>由于预训练模型已经具备了生成思维链的能力，因此我们可以直观地设计一个迭代改进过程，在这个过程中，我们会生成多个CoTs，并只根据能得出正确答案的理由对模型进行微调。<br>然而，这种直截了当的设计可能会失败，因为模型在无法解决的问题上得不到学习信号。STaR通过为失败的尝试添加一个「合理化」过程来解决这一局限性，在这个过程中，模型会根据问题和基本真实答案生成良好的后向CoTs，因此模型可以生成更合理的CoTs。然后，根据正确的解决方案对模型进行微调，这些解决方案要么能产生正确的输出，要么是通过合理化生成的。<br>我们可以把STaR看作是RL中策略梯度的近似值，奖励是一个简单的指标函数𝟙1[y^&#x3D;y]。我们希望在对z∼p(z∣x)和y∼p(y∣x,z)进行采样时，最大化该奖励的期望值。<br>每次迭代相当于首先根据选择CoT样本，然后运行监督微调以优化生成良好CoT和答案的对数问题。STaR的性能会随着训练迭代的增加而提高，而生成更好CoT的“合理化”过程可以加速学习。他们观察到，高温采样会增加通过错误推理获得正确答案的机会，而对此类数据微调LLM会损害泛化。对于没有真实数据的数据，多个高温输出的多数票可以作为真实数据答案的代理，从而可以使用合成样本进行训练。<br>对两个n位数加法的准确度进行比较。在有理化（基于真实结果的逐步推理生成）的情况下，模型能够在相对较早的阶段学习复杂的算术任务，例如五位数的加法。<br>到目前为止，已经有大量证据表明，允许模型在推理时投入额外的计算资源，在产生最终答案之前进行思考，可以显著提升性能。诸如提示模型在给出答案前生成中间推理步骤，或训练模型在预测下一个token前暂停和反思等技术，都被发现可以将模型性能提升到超出训练时获得的能力极限。这本质上引入了一个改善模型智能的新维度，与scalinglaw中定义的模型规模、训练计算量和数据量等既有因素相补充。<br>最近的研究表明，优化大语言模型的测试时计算可能比扩展模型参数更加有效。结合先进推理算法的小型模型可以在成本和性能之间提供帕累托最优的权衡。<br>Snelletal. 评估并比较了测试时计算和预训练计算，发现它们并非1:1可互换的。当模型能力差距很小时，测试时计算可以轻松弥补简单和中等难度问题上的差距，但对困难问题的效果较差。预训练和推理的token预算比例非常重要。只有当推理token显著少于预训练token时，测试时计算才更有优势。这表明，利用充足的预训练数据和计算资源开发有能力的基础模型仍然至关重要，因为测试时计算无法解决所有问题或填补大的模型能力差距。<br>s1模型通过预算强制（budgetforcing）技术（即通过添加单词「wait」来强制延长思维，或通过添加思维结束token或「FinalAnswer:」来缩短模型的思考过程而终止）实验了思维链推理路径长度的扩展。他们观察到以token衡量的平均思维时间与下游评估准确率之间存在明显的正相关关系。<br>当将这种预算强制技术与其他控制推理轨迹长度的解码方法进行比较时，令人相当惊讶的是，简单的拒绝采样（即采样生成直到长度符合token预算）导致了反向scaling，意味着更长的思维链会导致更差的性能。<br>对测试时计算和思维链推理的探索为增强模型能力带来了新的机遇。更有趣的是，通过测试时思考，我们正朝着构建未来AI系统的方向迈进，这些系统能够反映人类思维的最佳实践，融合了适应性、灵活性、批判性反思和错误纠正能力。<br>对当前进展的兴奋促使我们进行更多未来研究，以改进并深入理解——不仅是我们和我们的模型如何思考，更要理解为什么思考。<br>最后，我希望呼吁对以下关于测试时计算和思维链推理的开放性研究问题进行更多研究。<br>•我们能否在强化学习训练过程中激励模型产生人类可读、忠实的推理路径，同时避免rewardhacking行为？<br>•如何定义rewardhacking？我们能否在强化学习训练或推理过程中捕获rewardhacking行为而无需人工干预？如何防止在强化学习训练中采用「打地鼠」式的rewardhacking修复方法？<br>•自我纠正可以在思维链内部发生，也可以在多轮强化学习中得到显式鼓励。当没有真实答案可供参考时，我们如何训练模型进行自我纠正而不产生幻觉或性能倒退？<br>•对于高度情境化、个性化且难以评分的任务（如创意写作、指导建议、头脑风暴），我们如何进行带有思维链展开的强化学习训练？<br>•当我们在现实中部署模型时，我们无法无限延长测试时思考的时间，那么如何能够平滑地将性能提升转化回基础模型，从而降低推理时间成本（例如通过知识蒸馏）？<br>•如何根据当前问题的难度，让测试时计算资源的使用变得更加自适应？<br>进技术交流群请添加AINLP小助手微信（id:ainlp2)<br>请备注具体方向+所用到的相关技术点<br>关于AINLP<br>AINLP是一个有趣有AI的自然语言处理社区，专注于AI、NLP、机器学习、深度学习、推荐算法等相关技术的分享，主题包括LLM、预训练模型、自动生成、文本摘要、智能问答、聊天机器人、机器翻译、知识图谱、推荐系统、计算广告、招聘信息、求职经验分享等，欢迎关注！加技术交流群请添加AINLP小助手微信(id：ainlp2)，备注工作&#x2F;研究方向+加群目的。</p>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">ZejunCao</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://zejuncao.github.io/2025/05/19/1000002312-2650448972-3/">https://zejuncao.github.io/2025/05/19/1000002312-2650448972-3/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">ZejunCao</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/AINLP/">
                                    <span class="chip bg-color">AINLP</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2025/05/19/1000001549-2247590913-2/">
                    <div class="card-image">
                        
                        <img src="/medias/frontcover/1000001549_2247590913_2.jpg" class="responsive-img" alt="重磅！2024图灵奖颁给Deepseek背后的功臣：强化学习">
                        
                        <span class="card-title">重磅！2024图灵奖颁给Deepseek背后的功臣：强化学习</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2025-05-19
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            ZejunCao
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E6%95%B0%E6%8D%AESTUDIO/">
                        <span class="chip bg-color">数据STUDIO</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2025/05/19/1000002195-2247525044-2/">
                    <div class="card-image">
                        
                        <img src="/medias/frontcover/1000002195_2247525044_2.jpg" class="responsive-img" alt="超800所高校2025年预算出炉：最高近400亿！">
                        
                        <span class="card-title">超800所高校2025年预算出炉：最高近400亿！</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2025-05-19
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            ZejunCao
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%88%9D%E5%AD%A6%E8%80%85/">
                        <span class="chip bg-color">机器学习初学者</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>



<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="/libs/aplayer/Meting.min.js"></script>

    

    <div class="container row center-align"
         style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2025</span>
            
            <a href="/about" target="_blank">ZejunCao</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            
            <br>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/ZejunCao" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:caozejun369@163.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1378463428" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1378463428" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>



    <a href="https://weibo.com/u/5915009280" class="tooltipped" target="_blank" data-tooltip="关注我的微博: https://weibo.com/u/5915009280" data-position="top" data-delay="50">
        <i class="fab fa-weibo"></i>
    </a>



    <a href="https://www.zhihu.com/people/Garfusion/posts" class="tooltipped" target="_blank" data-tooltip="关注我的知乎: https://www.zhihu.com/people/Garfusion/posts" data-position="top" data-delay="50">
        <i class="fab fa-zhihu1">知</i>
    </a>



</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 白天和黑夜主题 -->
<div class="stars-con">
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>  
</div>

<script>
    function switchNightMode() {
        $('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($('body')),
        setTimeout(function () {
            $('body').hasClass('DarkMode') 
            ? ($('body').removeClass('DarkMode'), localStorage.setItem('isDark', '0'), $('#sum-moon-icon').removeClass("fa-sun").addClass('fa-moon')) 
            : ($('body').addClass('DarkMode'), localStorage.setItem('isDark', '1'), $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')),
            
            setTimeout(function () {
            $('.Cuteen_DarkSky').fadeOut(1e3, function () {
                $(this).remove()
            })
            }, 2e3)
        })
    }
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    
    
    

    <!-- 雪花特效 -->
    

    <!-- 鼠标星星特效 -->
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
