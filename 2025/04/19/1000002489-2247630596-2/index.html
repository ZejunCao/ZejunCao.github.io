<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="综述 | 图像特征提取与匹配技术, ZejunCao&#39;Blogs">
    <meta name="description" content="综述 | 图像特征提取与匹配技术

仅用于站内搜索，没有排版格式，具体信息请跳转上方微信公众号内链接

点击上方“小白学视觉”，选择加”星标”或“置顶”重磅干货，第一时间送达作者：william链接：https :&amp;#x2F;&amp;#x2F;z">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>综述 | 图像特征提取与匹配技术 | ZejunCao&#39;Blogs</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    


    <!-- bg-cover style     -->



<link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
<link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
<link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
<link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
<link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
<link rel="stylesheet" type="text/css" href="/css/matery.css">
<link rel="stylesheet" type="text/css" href="/css/my.css">
<link rel="stylesheet" type="text/css" href="/css/dark.css" media="none" onload="if(media!='all')media='all'">




    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
    <link rel="stylesheet" href="/css/post.css">




    
        <link rel="stylesheet" type="text/css" href="/css/reward.css">
    



    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

<meta name="generator" content="Hexo 7.3.0"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">ZejunCao&#39;Blogs</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
  <li>
    <a href="javascript:;" class="waves-effect waves-light" onclick="switchNightMode()" title="深色/浅色模式" >
      <i id="sum-moon-icon" class="fas fa-sun" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">ZejunCao&#39;Blogs</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/frontcover/1000002489_2247630596_2.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">综述 | 图像特征提取与匹配技术</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/%E5%B0%8F%E7%99%BD%E5%AD%A6%E8%A7%86%E8%A7%89/">
                                <span class="chip bg-color">小白学视觉</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2025-04-19
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/iKzZyBwxrQ3udF-FpqEpRA">综述 | 图像特征提取与匹配技术</a></p>
<blockquote>
<p>仅用于站内搜索，没有排版格式，具体信息请跳转上方微信公众号内链接</p>
</blockquote>
<p>点击上方“小白学视觉”，选择加”星标”或“置顶”<br>重磅干货，第一时间送达<br>作者：william<br>链接：https :&#x2F;&#x2F;zhuanlan.zhihu.com&#x2F;p&#x2F;133301967<br>文仅分享，侵删<br>特征提取和匹配是许多计算机视觉应用中的一个重要任务，广泛运用在运动结构、图像检索、目标检测等领域。每个计算机视觉初学者最先了解的特征检测器几乎都是1988年发布的HARRIS。在之后的几十年时间内各种各样的特征检测器&#x2F;描述符如雨后春笋般出现，特征检测的精度与速度都得到了提高。<br>特征提取和匹配由关键点检测，关键点特征描述和关键点匹配三个步骤组成。不同的检测器，描述符以及匹配器之间的组合往往是初学者疑惑的内容。本文将主要介绍关键点检测、描述以及匹配的背后原理，不同的组合方式之间的优劣，并提出几组根据实践结果得出的最佳组合。<br>特征提取和匹配<br>BackgroundKnowledge<br>特征是与解决某个应用程序相关的计算任务有关的一条信息。特征可能是图像中的特定结构，例如点，边缘或对象。特征也可能是应用于图像的一般邻域操作或特征检测的结果。这些功能可以分为两大类：<br>1、图片中特定位置的特征，如山峰、建筑角落、门口或有趣形状的雪块。这种局部化的特征通常被称为关键点特征(或者甚至是角点)，它们通常以点位置周围出现的像素块来描述，这个像素块往往被称作图像补丁(Imagepatch)。<br>2、可以根据其方向和局部外观（边缘轮廓）进行匹配的特征称为边缘，它们也可以很好地指示图像序列中的对象边界和遮挡事件。<br>特征点<br>边缘<br>1、检测(detection)：识别感兴趣点<br>2、描述(description):描述每个特征点周围的局部外观，这种描述在光照、平移、尺度和平面内旋转的变化下是(理想的)不变的。我们通常会为每个特征点提供一个描述符向量。<br>3、匹配(mataching):通过比较图像中的描述符来识别相似的特征。对于两幅图像，我们可以得到一组对(Xi，Yi)-&gt;(Xi’，Yi’)，其中(Xi，Yi)是一幅图像的特征，(Xi’，Yi’)是另一幅图像的特征.<br>Detector<br>关键点也称兴趣点，是纹理中表达的点。关键点往往是物体边界方向突然改变的点或两个或多个边缘段之间的交点。它在图像空间中具有明确的位置或很好地定位。即使图像域的局部或全局存在如光照和亮度变化等的扰动，关键点仍然是稳定，可以被重复可靠地计算出。除此之外它应该提供有效的检测。<br>关键点的计算方法有两种:<br>1、基于图像的亮度（通常通过图像导数）。<br>2、基于边界提取（通常通过边缘检测和曲率分析）。<br>在OPENCV库，我们可以选择很多特征检测器，特征检测器的选择取决于将要检测的关键点的类型以及图像的属性，需要考虑相应检测器在光度和几何变换方面的鲁棒性。<br>选择合适的关键点检测器时，我们需要考虑四种基本转换类型：<br>1、旋转变换<br>2、尺度变换<br>3、强度变换<br>4、仿射变换<br>涂鸦序列是计算机视觉中使用的标准图像集之一，我们可以观察到第i+n帧的涂鸦图片包括了所有的变换类型。而对于高速公路序列，当专注于前面的车辆时，在第i帧和第i+n帧之间只有比例变化以及强度变化。<br>传统的HARRIS传感器在旋转和加性强度偏移情况下具有较强的鲁棒性，但对尺度变化、乘性强度偏移(即对比度变化)和仿射变换敏感。<br>自动尺度选择<br>为了在理想尺度上检测关键点，我们必须知道(或找到)它们在图像中的各自维度，并适应本节前面介绍的高斯窗口w(x，y)的大小。如果关键点尺度是未知的或如果关键点与存在于不同的大小图像中，检测必须在多个尺度级连续执行。<br>基于相邻层之间的标准差增量，同一个关键点可能被多次检测到。这就提出了选择最能代表关键点的“正确”尺度的问题。1998年TonyLindeberg发表了一种“自动选择比例的特征提取(Featuredetectionwithautomaticscaleselection)”的方法。它提出了一个函数f(x，y，scale)，该函数可以用来选择在尺度上FF有稳定最大值的关键点。Ff最大化的尺度被称为各关键点的“特征尺度”。<br>如在下图中显示了这样一个函数FF，它经过了几个尺度级别的评估，在第二张图中显示了一个清晰的最大值，可以看作是圆形区域内图像内容的特征尺度。<br>一个好的检测器能够根据局部邻域的结构特性自动选择关键点的特征尺度。现代关键点探测器通常具有这种能力，因此对图像尺度的变化具有很强的鲁棒性。<br>关键点检测器是一个非常受欢迎的研究领域，因此这些年来已经开发了许多强大的算法。关键点检测的应用包括物体识别和跟踪，图像匹配和全景拼接以及机器人制图和3D建模等。检测器的选择除了需要比较上述转换中的不变性之外，还需要比较检测器的检测性能和处理速度。<br>经典关键点检测器的目的是为了最大化检测精度，复杂度一般不是首要考虑因素。<br>HARRIS-1988HarrisCornerDetector(Harris,Stephens)<br>Shi,Tomasi-1996GoodFeaturestoTrack(Shi,Tomasi)<br>SIFT-1999ScaleInvariantFeatureTransform(Lowe)-Nonefree<br>SURT-2006SpeededUpRobustFeatures(Bay,Tuytelaars,VanGool)-Nonefree<br>近年来，一些更快的探测器已经开发出来，用于智能手机和其他便携设备上的实时应用。下面的列表显示了属于这个组的最流行的检测器:<br>FAST-2006FeaturesfromAcceleratedSegmentTest(FAST)(Rosten,Drummond)<br>BRIEF-2010BinaryRobustIndependentElementaryFeatures(BRIEF)(Calonder,etal.)<br>ORB-2011OrientedFASTandRotatedBRIEF(ORB)(Rubleeetal.)<br>BRISK-2011BinaryRobustInvariantScalableKeypoints(BRISK)(Leutenegger,Chli,Siegwart)<br>FREAK-2012FastRetinaKeypoint(FREAK)(Alahi,Ortiz,Vandergheynst)<br>KAZE-2012KAZE(Alcantarilla,Bartoli,Davidson)<br>FeatureDescriptor<br>由于我们的任务是在图像序列中找到对应的关键点，因此我们需要一种基于相似性度量将关键点彼此可靠地分配的方法。很多文献中已经提出了各种各样的相似性度量(称为Descriptor)，并且在很多作者已经同时发布了一种用于关键点检测的新方法以及针对其关键点类型进行了优化的相似性度量。也就是说已经封装好的OPENCV关键点检测器函数大部分同样可以用来生成关键点描述符。<br>区别在于：<br>关键点检测器是一种根据函数的局部最大值从图像中选择点的算法，例如我们在HARRIS检测器中看到的“角度”度量。<br>关键点描述符是用于描述关键点周围的图像补丁值的向量。描述方法有比较原始像素值的方法也有更复杂的方法，如梯度方向的直方图。<br>关键点检测器一般是从一个帧图片中寻找到特征点。而描述符帮助我们在“关键点匹配”步骤中将不同图像中的相似关键点彼此分配。如下图所示，一个帧中的一组关键点被分配给另一帧中的关键点，以使它们各自描述符的相似性最大化，并且这些关键点代表图像中的同一对象。除了最大化相似性之外，好的描述符还应该能够最大程度地减少不匹配的次数，即避免将彼此不对应于同一对象的关键点分配给彼此。<br>虽然出现了越来越多快速的检测器&#x2F;描述符组合，但是基于定向直方图(HOG)描述符之一的尺度不变特征转换(SIFT)依然被广泛运用。HOG的基本思想是通过物体在局部邻域中的强度梯度分布来描述物体的结构。为此，将图像划分为多个单元，在这些单元中计算梯度并将其收集到直方图中。然后，将所有单元格的直方图集用作相似性度量，以唯一地标识图像块或对象。<br>SIFT&#x2F;SURF使用HOG作为描述符，既包括关键点检测器，也包括描述符，功能很强大，但是被专利保护。SURF是在SIFT的基础上改进，不仅提高了计算速度，而且更加安全鲁棒性，两者的实现原理很相似。在此我先仅介绍SIFT。<br>SIFT方法遵循五步过程，下面将对此进行简要概述。<br>首先，使用称为“拉普拉斯高斯（LoG）”的方法来检测图像中的关键点，该方法基于二阶强度导数。LoG应用于图像的各种比例级别，并且倾向于检测斑点而不是拐角。除了使用唯一的比例级别外，还根据关键点周围局部邻域中的强度梯度为关键点分配方向。<br>其次，对于每个关键点，其周围区域都会通过消除方向而改变，从而确保规范的方向。此外，该区域的大小将调整为16x16像素，从而提供了标准化的图像补丁。<br>第三，基于强度梯度_Ix_和_Iy_计算归一化图像补丁内每个像素的方向和大小。<br>第四，将归一化的贴片划分为4x4单元的网格。在每个单元内，超出幅度阈值的像素的方向收集在由8个bin组成的直方图中。<br>最后，将所有16个单元格的8柱状直方图连接到一个128维向量（描述符）中，该向量用于唯一表示关键点。<br>SIFT检测器&#x2F;描述符即使在杂波中和部分遮挡下也能够可靠地识别物体。尺度，旋转，亮度和对比度的均匀变化是不变的，仿射失真甚至是不变的。<br>SIFT的缺点是速度低，这使其无法在智能手机等实时应用中使用。HOG系列的其他成员（例如SURF和GLOH）已针对速度进行了优化。但是，它们仍然在计算上过于昂贵，因此不应在实时应用中使用。此外，SIFT和SURF拥有大量专利，因此不能在商业环境中自由使用。为了在OpenCV中使用SIFT，必须使用#include，并且需要安装OPENCV_contribute包，注意一定要在Cmake选项中开启OPENCV_ENABLE_NONFREE。<br>二进制Binary描述符<br>基于HOG的描述符的问题在于它们基于计算强度梯度，这是非常昂贵的操作。即使已进行了一些改进（例如SURF），使用了积分图像，速度提高了，但这些方法仍然不适合处理能力有限的设备（例如智能手机）上的实时应用程序。二进制描述符家族是基于HOG的方法的一种更快（免费）的替代方案，但准确性和性能稍差。<br>二进制描述符的核心思想是仅仅依赖强度信息(即图像本身)，并将关键点周围的信息编码为一串二进制数字，当搜索相应关键点时，这些数字可以在匹配步骤中非常有效地进行比较。也就是说二进制描述符将兴趣点的信息编码成一系列数字，并作为一种数字“指纹”，可用于区分一个特征和另一个特征。目前，最流行的二进制描述符是BRIEF、BRISK、ORB、FREAK和KAZE(所有这些都可以在OpenCV库中找到)。<br>二进制描述符<br>从高层次的角度来看，二进制描述符由三个主要部分组成：<br>1、一种描述样本点位于关键点附近的位置的采样模式(samplingpattern)。<br>2、一种消除了图像补丁围绕关键点位置旋转影响的方向补偿方法(orientationcompensation)。<br>3、一种样本对选择的方法(ample-pairselection)，它产生成对的样本点，这些样本点根据它们的强度值相互比较。如果第一个值大于第二个值，我们就在二进制字符串中写一个“1”，否则就写一个“0”。在对采样模式中的所有点对执行此操作之后，将创建一个长的二进制链(或“string”)(因此得到描述符类的族名)。<br>BRISK“二进制鲁棒不变可伸缩关键点”关键点检测器&#x2F;描述符是二进制描述符的代表。在此我先仅介绍BRISIK。<br>2011年StefanLeutenegger提出的BRISK是一个基于FAST的检测器和一个Binary描述符的组合，这个描述符由通过对每个关键点邻域进行专门采样而获得的强度比较创建。<br>BRISK的采样模式由多个采样点（蓝色）组成，其中每个采样点周围的同心环（红色）表示应用高斯平滑的区域。与某些其他二进制描述符（例如ORB或Brief）相反，BRISK采样模式是固定的。平滑对于避免混叠非常重要（这种效应会导致不同信号在采样时变得难以区分-或彼此混叠）。<br>在样本对选择期间，BRISK算法会区分长距离对和短距离对。长距离对（即在样本图案上彼此之间具有最小距离的样本点）用于根据强度梯度估算图像补丁的方向，而短距离对用于对已组装的描述符字符串进行强度比较。在数学上，这些对表示如下：<br>首先，我们定义所有可能的采样点对的集合A。然后，我们从A提取子集L，子集L的欧氏距离大于上阈值。L是用于方向估计的长距离对。最后，我们从A提取欧氏距离低于下阈值的那些对。该集合S包含用于组装二进制描述符串的短距离对。<br>下图显示了短对（左）和长对（右）的采样模式上的两种距离对。<br>从长对中，关键点方向向量G计算如下：<br>首先，根据归一化的单位矢量计算两个采样点之间的梯度强度，归一化的单位矢量给出两个点之间的方向，乘以两个点在各自比例下的强度差。然后在(2)中，关键点方向向量g从所有梯度强度的总和中计算出。<br>基于g，我们可以使用采样模式的方向重新排列短距离配对，从而确保旋转不变性。基于旋转不变的短距离配对，可以如下构建最终的二进制描述符：<br>从g计算出关键点的方位后，我们使用它使短距离配对旋转不变。然后，所有对之间的强度S被比较并用于组装可用于匹配的二进制描述符。<br>OPENCVDetector&#x2F;Descriptorimplementation</p>
<p>以下我会介绍各个特征点检测器&#x2F;描述符的代码实现以及参数详解,文章结尾会基于实际结果对这些组合进行评价。<br>有些OPENCV函数可以同时用于检测器&#x2F;描述符，但是有的组合会出现问题。<br>SIFTDetector&#x2F;DescriptorSIFTdetectorandORBdescriptordonotworktogether</p>
<p>HARRISDetector</p>
<p>SHI-TOMASI　Detector</p>
<p>BRISIKDetector&#x2F;Descriptor</p>
<p>FREAKDetector&#x2F;Descriptor</p>
<p>FASTDetector&#x2F;Descriptor</p>
<p>ORBDetector&#x2F;DescriptorSIFTdetectorandORBdescriptordonotworktogether</p>
<p>AKAZEDetector&#x2F;DescriptorKAZE&#x2F;AKAZEdescriptorswillonlyworkwithKAZE&#x2F;AKAZEdetectors.</p>
<p>BRIEFDetector&#x2F;Descriptor</p>
<p>DescriptorMatching<br>特征匹配或一般意义上的图像匹配是图像配准、摄像机标定和目标识别等计算机视觉应用的一部分，是在同一场景&#x2F;目标的两幅图像之间建立对应关系的任务。一种常用的图像匹配方法是从图像数据中检测出一组与图像描述符相关联的兴趣点。一旦从两个或更多的图像中提取出特征和描述符，下一步就是在这些图像之间建立一些初步的特征匹配。<br>一般来说，特征匹配方法的性能取决于基本关键点的性质和相关图像描述符的选择。<br>我们已经了解到关键点可以通过将其局部邻域转换为高维向量来描述，高维向量可以捕获梯度或强度分布的独特特征。<br>特征匹配需要计算两个描述符之间的距离，这样它们之间的差异被转换成一个单一的数字，我们可以用它作为一个简单的相似性度量。<br>目前有三种距离度量：<br>绝对差之和(SAD)-L1-norm<br>平方差之和(SSD)-L2-norm<br>汉明距离(Hammingdistance)<br>SAD和SSD之间的差异在于：首先两者之间的最短距离是一条直线，给定每个向量的两个分量，SAD计算长度差之和，这是一维过程。而SSD计算平方和，遵循毕达哥拉斯定律，在一个矩形三角形中，宽边平方的总和等于斜边的平方。因此，就两个向量之间的几何距离而言，L2-norm是一种更准确的度量。注意，相同的原理适用于高维描述符。<br>而汉明距离对于仅由１和０组成的二进制描述符很适合，该距离通过使用XOR函数计算两个向量之间的差，如果两个位相同，则返回零如果两位不同，则为1。因此，所有XOR操作的总和就是两个描述符之间的不同位数。<br>值得注意的是必须根据所使用的描述符的类型选择合适距离度量。<br>BINARYdescriptors:BRISK,BRIEF,ORB,FREAK,andAKAZE-Hammingdistance<br>HOGdescriptors:SIFT(andSURFandGLOH,allpatented)-L2-norm<br>让我们假设在一个图像中有N个关键点及其关联的描述符，在另一幅图像中有M个关键点。<br>寻找对应对的最明显方法是将所有特征相互比较，即执行NxM比较。对于第一张图像中给定的关键点，它将获取第二张图像中的每个关键点并计算距离。距离最小的关键点将被视为一对。这种方法称为“蛮力匹配(BruteForceMatching)”或“最近邻居匹配(NearestNeighborMatching)”。OPENCV中蛮力匹配的输出是一个关键点对的列表，这些关键点对按其在所选距离函数下的描述符的距离进行排序。<br>2014年，DavidLowe和MariusMuja发布了”快速最近邻(fastlibraryforapproximatenearest　neighbors(FLANN)”)。FLANN训练了一种索引结构，用于遍历使用机器学习概念创建的潜在匹配候选对象。该库构建了非常有效的数据结构（KD树）来搜索匹配对，并避免了穷举法的穷举搜索。因此，速度更快，结果也非常好，但是仍然需要调试匹配参数。<br>BFMatching和FLANN都接受描述符距离阈值T，该距离阈值T用于将匹配项的数量限制为“好”，并在匹配不对应的情况下丢弃匹配项。相应的“好”对称为“正阳性（TP）”，而错对称为“假阳性（FP）”。为T选择合适的值的任务是允许尽可能多的TP匹配，而应尽可能避免FP匹配。根据图像内容和相应的检测器&#x2F;描述符组合，必须找到TP和FP之间的权衡点，以合理地平衡TP和FP之间的比率。下图显示了SSD上TP和FP的两种分布，以说明阈值选择。<br>第一阈值T1被设置为两个特征之间的最大允许的SSD，其方式是选择了一些正确的正匹配，而几乎完全避免了错误的正匹配。但是，使用此设置也将丢弃大多数TP匹配项。通过将匹配阈值增加到T2，可以选择更多的TP匹配，但是FP匹配的数量也将显着增加。在实践中，几乎没有找到TP和FP的清晰明了的分离，因此，设置匹配阈值始终是平衡“好”与“坏”匹配之间的折衷。尽管在大多数情况下都无法避免FP，但目标始终是尽可能降低FP次数。在下文中，提出了实现这一目标的两种策略。<br>BFMatching-crossCheck<br>只要不超过所选阈值T，即使第二图像中不存在关键点，蛮力匹配也将始终返回与关键点的匹配。这不可避免地导致许多错误的匹配。抵消这种情况的一种策略称为交叉检查匹配，它通过在两个方向上应用匹配过程并仅保留那些在一个方向上的最佳匹配与在另一个方向上的最佳匹配相同的匹配来工作。交叉检查方法的步骤为：<br>1、对于源图像中的每个描述符，请在参考图像中找到一个或多个最佳匹配。<br>2、切换源图像和参考图像的顺序。<br>3、重复步骤1中源图像和参考图像之间的匹配过程。<br>4、选择其描述符在两个方向上最匹配的那些关键点对。<br>尽管交叉检查匹配会增加处理时间，但通常会消除大量的错误匹配，因此，当精度优于速度时，应始终执行交叉匹配。交叉匹配一般仅仅用于BFMatching。<br>Nearestneighbordistanceratio(NN)&#x2F;K-nearest-neighbor(KNN)<br>减少误报数量的另一种非常有效的方法是为每个关键点计算最近邻距离比(nearestneighbordistanceratio)。</p>
<p>主要思想是不要将阈值直接应用于SSD。相反，对于源图像中的每个关键点，两个(k&#x3D;2)最佳匹配位于参考图像中，并计算描述符距离之间的比率。然后，将阈值应用于比率，以筛选出模糊匹配。下图说明了原理。<br>在该示例中，将具有关联描述符da的图像补丁与其他两个具有描述符的图像补丁d_b1和d_b2进行比较。可以看出，图像补丁看起来非常相似，并且会导致模棱两可，因此不可靠。通过计算最佳匹配与次佳匹配之间的SSD比值，可以过滤掉这些较弱的候选对象。<br>在实践中，已证明阈值0.8可以在TP和FP之间提供良好的平衡。在原始SIFT中检查的图像序列中，使用此设置可以消除90％的错误匹配，而丢失少于5％的正确匹配。注意，只有KNN能设置阈值0.8。NN只会提供一个最佳匹配。<br>以下是匹配的执行代码：</p>
<p>EvaluatingMatchingPerformance<br>目前特征提取与匹配存在大量的检测器和描述符类型，为了解决的问题，必须基于诸如关键点的准确性或匹配对的数量之类的要求来选择合适的算法对。下面，概述了最常用的措施。<br>真阳性率(TruePositiveRate-TPR)是已经匹配的正确关键点(truepositives-TP)和所有潜在匹配的总和之间的比值，包括那些被检测器&#x2F;描述符（falsenegatives-FN）错过了的。完美匹配器的TPR为1.0，因为不会有错误匹配。TPR也称为召回(recall)，可用于量化实际发现了多少个可能的正确匹配。</p>
<p>MatcherPrecision是正确匹配的关键点(TP)的数量除以所有匹配的数量。此度量也称为inlierratio。<br>很多人对于TP,FP,FN以及TN的理解经常会产生偏差，尤其是FN和TN。下图是它们各自的定义:<br>在这里我们需要介绍ROC的定义。<br>ROC曲线是一个图形化的图表，它显示了一个检测器&#x2F;描述符如何很好地区分真假匹配，因为它的区分阈值是不同的。ROC可以直观地比较不同的检测器&#x2F;描述符，并为每个检测器选择一个合适的鉴别阈值。<br>下图显示了如何通过更改SSD的鉴别阈值，根据正阳性和假阳性的分布构造ROC。理想的检测器&#x2F;描述符的TPR为1.0，而FPR同时接近0.0。<br>在下图中，显示了两个好的和不好的检测器&#x2F;描述符的示例。在第一个示例中，无法安全区分TP和FP，因为两条曲线都匹配，并且辨别阈值的更改将以相同的方式影响它们。在第二个示例中，TP和FP曲线没有明显重叠，因此可以选择合适的鉴别器阈值。<br>在该图中，您可以看到不同描述符（例如，SIFT，BRISK和其他几个描述符）的ROC曲线，并在视觉上进行比较。请注意，这些结果仅对实际用于比较的图像序列有效-对于其他图像集（例如，交通场景），结果可能会有很大差异。<br>Conclusion<br>2D_Feature_Tracking项目的目的在于使用检测器和描述符的所有可能组合，为所有10张图像计算只在前方车辆范围内的关键点数量，检测时间，描述时间，匹配时间以及匹配的关键点数量。在匹配步骤中，使用BF方法及KNN选择器并将描述符距离比设置为0.8。<br>以下是结果：<br>不同检测器的平均检测时间及检测出的关键点数目<br>不同检测器和描述符组合的描述时间<br>不同检测器和描述符组合的匹配点数目(控制匹配算法为不变量)<br>不同检测器和描述符组合的总运行时间<br>从上表中的第一印象可以可以看出：<br>通过考虑所有这些变化，我可以说检测器&#x2F;描述符的前三个组合是:<br>FAST+BRIEF(Higherspeedandrelativegoodaccuracy)<br>BRISK+BRIEF(Higheraccuracy)<br>FAST+ORB(relativelygoodspeedandaccuracy)<br>以上结论是基于实际测试比较表面数据得到的结论，你们也可以自己尝试修改我代码库中的检测器和描述符组合，看看结果有什么不同。</p>
<p>SIFT，SURF和BRISK被认为是大多数尺度不变特征检测器（基于可重复性），它们在广泛的尺度尺度变化中不受影响。ORB具有最小的尺度不变性。ORB（1000），BRISK（1000）和AKAZE比其他旋转不变性更高。与其他相比，ORB和BRISK通常对仿射更改更加不变。与其余图像相比，SIFT，KAZE，AKAZE和BRISK具有更高的图像旋转精度。尽管ORB和BRISK是可以检测大量特征的最有效算法，但如此大量特征的匹配时间会延长总图像匹配时间。相反，ORB（1000）和BRISK（1000）执行最快的图像匹配，但其准确性受到损害。对于所有类型的几何变换，SIFT和BRISK的总体精度最高，SIFT被认为是最精确的算法。<br>定量比较表明，特征检测描述器检测大量特征的能力的一般顺序为：<br>ORB&gt;BRISK&gt;SURF&gt;SIFT&gt;AKAZE&gt;KAZE<br>每个特征点的特征检测描述器的计算效率顺序为：<br>ORB&gt;ORB(1000)&gt;BRISK&gt;BRISK(1000)&gt;SURF(64D)&gt;SURF(128D)　&gt;AKAZE&gt;SIFT&gt;KAZE<br>每个特征点的有效特征匹配顺序为：<br>ORB(1000)&gt;BRISK(1000)&gt;AKAZE&gt;KAZE&gt;SURF(64D)&gt;ORB&gt;BRISK&gt;SIFT&gt;SURF(128D)<br>特征检测描述器的整体图像匹配速度顺序为：<br>ORB(1000)&gt;BRISK(1000)&gt;AKAZE&gt;KAZE&gt;SURF(64D)&gt;SIFT&gt;ORB&gt;BRISK&gt;SURF(128D)<br>备注：不同检测器的检测图像，从中可以看出它们关键点邻域的大小和分布。<br>HARRIS<br>Shi-Tomasi<br>FAST<br>BRISIK<br>ORB<br>AKAZE<br>SIFT<br>引用资料<br>UDACITY<br>AComparativeAnalysisofSIFT,SURF,KAZE,AKAZE,ORB,andBRISK<br>DeepanshuTyagi<br>如果你想了解整个图像特征提取匹配的流程，可以参看我的代码库的README文件。<br>如果有什么疑问，可以随时联系我的个人邮箱。<br>Github：https :&#x2F;&#x2F;github.com&#x2F;williamhyin&#x2F;SFND_2D_Feature_Tracking<br>Email：<a href="mailto:&#119;&#x69;&#x6c;&#x6c;&#105;&#97;&#x6d;&#104;&#121;&#x69;&#110;&#x40;&#x6f;&#x75;&#x74;&#x6c;&#x6f;&#x6f;&#107;&#x2e;&#99;&#x6f;&#x6d;">&#119;&#x69;&#x6c;&#x6c;&#105;&#97;&#x6d;&#104;&#121;&#x69;&#110;&#x40;&#x6f;&#x75;&#x74;&#x6c;&#x6f;&#x6f;&#107;&#x2e;&#99;&#x6f;&#x6d;</a><br>Linkedin：https :&#x2F;&#x2F;linkedin.com&#x2F;in&#x2F;williamhyin<br>下载1：OpenCV-Contrib扩展模块中文版教程<br>在「小白学视觉」公众号后台回复：扩展模块中文教程，即可下载全网第一份OpenCV扩展模块教程中文版，涵盖扩展模块安装、SFM算法、立体视觉、目标跟踪、生物视觉、超分辨率处理等二十多章内容。<br>下载2：Python视觉实战项目52讲<br>在「小白学视觉」公众号后台回复：Python视觉实战项目，即可下载包括图像分割、口罩检测、车道线检测、车辆计数、添加眼线、车牌识别、字符识别、情绪检测、文本内容提取、面部识别等31个视觉实战项目，助力快速学校计算机视觉。<br>下载3：前沿论文1000篇<br>在「小白学视觉」公众号后台回复：1000paper，即可下载最新的前沿顶会顶刊1000篇论文，涵盖：医学图像处理、目标检测、语义分割、扩散模型、大模型、自动驾驶、具身智能、超分辨率、图像去噪等多个领域。<br>交流群<br>欢迎加入公众号读者群一起和同行交流，目前有SLAM、三维视觉、传感器、自动驾驶、计算摄影、检测、分割、识别、医学影像、GAN、算法竞赛等微信群（以后会逐渐细分），请扫描下面微信号加群，备注：”昵称+学校&#x2F;公司+研究方向“，例如：”张三+上海交大+视觉SLAM“。请按照格式备注，否则不予通过。添加成功后会根据研究方向邀请进入相关微信群。请勿在群内发送广告，否则会请出群，谢谢理解~</p>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">ZejunCao</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://zejuncao.github.io/2025/04/19/1000002489-2247630596-2/">https://zejuncao.github.io/2025/04/19/1000002489-2247630596-2/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">ZejunCao</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/%E5%B0%8F%E7%99%BD%E5%AD%A6%E8%A7%86%E8%A7%89/">
                                    <span class="chip bg-color">小白学视觉</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2025/04/19/1000002603-2648997685-1/">
                    <div class="card-image">
                        
                        <img src="/medias/frontcover/1000002603_2648997685_1.jpg" class="responsive-img" alt="AI 爬虫核武器！Crawl4AI 横空出世，数据采集只需一行代码">
                        
                        <span class="card-title">AI 爬虫核武器！Crawl4AI 横空出世，数据采集只需一行代码</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2025-04-19
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            ZejunCao
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AE%97%E6%B3%95%E4%B8%8EPython%E5%AE%9E%E6%88%98/">
                        <span class="chip bg-color">机器学习算法与Python实战</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2025/04/19/1000002489-2247630596-3/">
                    <div class="card-image">
                        
                        <img src="/medias/frontcover/1000002489_2247630596_3.jpg" class="responsive-img" alt="ECCV 2024 | 快速傅里叶变换与Transformer结合用于图像恢复">
                        
                        <span class="card-title">ECCV 2024 | 快速傅里叶变换与Transformer结合用于图像恢复</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2025-04-19
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            ZejunCao
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E5%B0%8F%E7%99%BD%E5%AD%A6%E8%A7%86%E8%A7%89/">
                        <span class="chip bg-color">小白学视觉</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>



<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="/libs/aplayer/Meting.min.js"></script>

    

    <div class="container row center-align"
         style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2025</span>
            
            <a href="/about" target="_blank">ZejunCao</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            
            <br>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/ZejunCao" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:caozejun369@163.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1378463428" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1378463428" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>



    <a href="https://weibo.com/u/5915009280" class="tooltipped" target="_blank" data-tooltip="关注我的微博: https://weibo.com/u/5915009280" data-position="top" data-delay="50">
        <i class="fab fa-weibo"></i>
    </a>



    <a href="https://www.zhihu.com/people/Garfusion/posts" class="tooltipped" target="_blank" data-tooltip="关注我的知乎: https://www.zhihu.com/people/Garfusion/posts" data-position="top" data-delay="50">
        <i class="fab fa-zhihu1">知</i>
    </a>



</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 白天和黑夜主题 -->
<div class="stars-con">
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>  
</div>

<script>
    function switchNightMode() {
        $('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($('body')),
        setTimeout(function () {
            $('body').hasClass('DarkMode') 
            ? ($('body').removeClass('DarkMode'), localStorage.setItem('isDark', '0'), $('#sum-moon-icon').removeClass("fa-sun").addClass('fa-moon')) 
            : ($('body').addClass('DarkMode'), localStorage.setItem('isDark', '1'), $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')),
            
            setTimeout(function () {
            $('.Cuteen_DarkSky').fadeOut(1e3, function () {
                $(this).remove()
            })
            }, 2e3)
        })
    }
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    
    
    

    <!-- 雪花特效 -->
    

    <!-- 鼠标星星特效 -->
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
