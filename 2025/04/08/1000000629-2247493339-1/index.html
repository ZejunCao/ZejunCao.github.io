<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="构建Agentic RAG 系统的方法有哪些？, ZejunCao&#39;Blogs">
    <meta name="description" content="构建Agentic RAG 系统的方法有哪些？

仅用于站内搜索，没有排版格式，具体信息请跳转上方微信公众号内链接

2024年不仅是大家用大模型（LLM）生成内容的一年，更是我们开始搞懂它怎么”思考”的一年。在研究LLM和RAG这些技术时">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>构建Agentic RAG 系统的方法有哪些？ | ZejunCao&#39;Blogs</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    


    <!-- bg-cover style     -->



<link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
<link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
<link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
<link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
<link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
<link rel="stylesheet" type="text/css" href="/css/matery.css">
<link rel="stylesheet" type="text/css" href="/css/my.css">
<link rel="stylesheet" type="text/css" href="/css/dark.css" media="none" onload="if(media!='all')media='all'">




    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
    <link rel="stylesheet" href="/css/post.css">




    
        <link rel="stylesheet" type="text/css" href="/css/reward.css">
    



    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

<meta name="generator" content="Hexo 7.3.0"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">ZejunCao&#39;Blogs</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
  <li>
    <a href="javascript:;" class="waves-effect waves-light" onclick="switchNightMode()" title="深色/浅色模式" >
      <i id="sum-moon-icon" class="fas fa-sun" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">ZejunCao&#39;Blogs</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/frontcover/1000000629_2247493339_1.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">构建Agentic RAG 系统的方法有哪些？</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/ChallengeHub/">
                                <span class="chip bg-color">ChallengeHub</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2025-04-08
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/2kQ-DrtazfPhtNFTJheBtA">构建Agentic RAG 系统的方法有哪些？</a></p>
<blockquote>
<p>仅用于站内搜索，没有排版格式，具体信息请跳转上方微信公众号内链接</p>
</blockquote>
<p>2024年不仅是大家用大模型（LLM）生成内容的一年，更是我们开始搞懂它怎么”思考”的一年。在研究LLM和RAG这些技术时，我发现了AI代理的厉害之处——它们能自己干活做决定，几乎不用人插手。还记得2023年最火的RAG（检索增强生成）技术吗？到了2024年，它升级成了能自主工作的”智能版RAG”，给各行各业带来了新突破。而2025年，绝对要成为”AI代理的天下”——这些能自主工作的系统会彻底改变我们的效率，让解决问题的方式焕然一新。<br>想象一下：以前的技术就像固定工具，现在变成了会自己动脑筋的”智能助手”。这种转变带来了惊人的效率提升，为2025年更酷的创新铺好了路。今天咱们就重点聊聊这些”智能版RAG系统”有哪些类型，顺便深入看看它们是怎么运作的。<br>常见代理RAG研究方法如下：<br>1.AgenticRAGRouters<br>2.QueryPlanningAgenticRAG<br>3.AdaptiveRAG<br>4.AgenticCorrectiveRAG<br>5.Self-ReflectiveRAG<br>6.SpeculativeRAG<br>7.SelfRouteAgenticRAG<br>为了简单理解自主代理式RAG，让我们剖析一下这个术语：它是RAG+AI代理的结合体。如果您不熟悉这些术语，请别担心！我们稍后会深入探讨它们。<br>现在，我们将阐明RAG和自主AI系统（AI代理）。<br>RAG是一种框架，旨在通过将外部知识源集成到生成过程中来增强生成式AI模型的性能。其工作原理如下：<br>检索组件：此部分从外部知识库、数据库或其他数据存储库中获取相关信息。这些来源可以包括结构化或非结构化数据，例如文档、API甚至实时数据流。<br>增强：检索到的信息用于告知和指导生成模型。这确保了输出在事实上更准确，以外部数据为基础，并且在语境上更丰富。<br>生成：生成式AI系统（如GPT）将检索到的知识与其自身的推理能力相结合，以生成最终输出。<br>当处理复杂的查询或需要最新的、特定领域知识的领域时，RAG尤其有价值。<br>以下是AI代理工作流程对查询“_谁赢得了2024年欧洲杯？告诉我更多细节！_”的响应。<br>初始指令提示：用户输入查询，例如“_谁赢得了2024年欧洲杯？告诉我更多细节！_”。<br>LLM处理和工具选择：大型语言模型(LLM)解释查询，并确定是否需要外部工具（如网络搜索）。它启动函数调用以获取更多详细信息。<br>工具执行和上下文检索：所选工具（例如，搜索API）检索相关信息。在此示例中，它获取了有关2024年欧洲杯决赛的详细信息。<br>响应生成：新信息与原始查询相结合。LLM生成完整且最终的响应：<br>“_西班牙在2024年欧洲杯决赛中以2-1战胜英格兰，决赛于2024年7月在柏林举行。_”<br>简而言之，自主代理式AI系统具有以下核心组件：<br>LLM充当中央处理单元，解释输入并生成有意义的响应。<br>输入查询：用户提供的问题或命令，启动AI的运行。<br>理解查询：AI分析输入以掌握其含义和意图。<br>响应生成：根据查询，AI制定适当且连贯的答复。<br>外部工具增强了AI的功能，使其能够执行超出基于文本的交互之外的特定任务。<br>文档阅读器工具：处理和提取文本文档中的见解。<br>分析工具：执行数据分析以提供可操作的见解。<br>会话工具：促进交互式和动态对话功能。<br>记忆使AI能够保留和利用过去的交互，以获得更具上下文意识的响应。<br>短期记忆：保存最近的交互以供即时上下文使用。<br>长期记忆：长期存储信息以供持续参考。<br>语义记忆：维护一般知识和事实以进行知情的交互。<br>这展示了AI如何集成用户提示、工具输出和自然语言生成。<br>以下是AI代理的定义：<br>AI代理是旨在通过与其环境交互来执行特定任务或实现某些目标的自主软件系统。AI代理的关键特征包括：<br>感知：它们感知或检索有关其环境的数据（例如，来自API或用户输入）。<br>推理：它们分析数据以做出明智的决策，通常利用GPT等AI模型进行自然语言理解。<br>行动：它们在真实或虚拟世界中执行操作，例如生成响应、触发工作流程或修改系统。<br>学习：高级代理通常会根据反馈或新数据，随着时间的推移调整和改进其性能。<br>AI代理可以处理跨领域的任务，例如客户服务、数据分析、工作流程自动化等等。<br>首先，以下是基本检索增强生成(RAG)的局限性：<br>何时检索：系统可能难以确定何时需要检索，这可能会导致答案不完整或不太准确。<br>文档质量：检索到的文档可能与用户的问题不太吻合，这会削弱响应的相关性。<br>生成错误：模型可能会“产生幻觉”，添加不准确或不相关的信息，而这些信息并没有得到检索内容的支撑。<br>答案精确度：即使有相关文档，生成的响应也可能无法直接或充分地解决用户查询，从而使输出变得不太可靠。<br>推理问题：系统无法通过复杂的查询进行推理，这阻碍了细致入微的理解。<br>有限的适应性：传统系统无法动态地适应策略，例如选择API调用或网络搜索。<br>理解自主代理式RAG系统有助于我们为上述挑战部署正确的解决方案，并针对特定任务，确保与预期用例保持一致。以下是它至关重要的原因：<br>量身定制的解决方案：<br>自主代理式RAG路由器：自主代理式RAG路由器是一种模块化框架，可根据查询的意图和复杂性，动态地将任务路由到适当的检索、生成或操作组件。<br>自我反思式RAG：自我反思式RAG集成了内省机制，使系统能够通过迭代评估检索相关性、生成质量和决策准确性来评估和改进其响应，然后再最终确定输出。<br>不同类型的自主代理式RAG系统专为不同程度的自主性和复杂性而设计。例如：<br>了解这些类型可确保最佳设计和资源利用率。<br>风险管理：<br>自主代理式系统涉及决策制定，这可能会引入风险，例如不正确的操作、过度依赖或滥用。了解每种类型的范围和局限性可以减轻这些风险。<br>创新与可扩展性：<br>区分类型使企业能够扩展其系统，从基本实现扩展到能够处理企业级挑战的复杂代理。<br>简而言之，自主代理式RAG可以计划、适应和迭代，以找到适合用户的正确解决方案。<br>结合AI代理和RAG工作流程，以下是自主代理式RAG的架构：<br>自主代理式RAG结合了RAG的结构化检索和知识集成能力，以及AI代理的自主性和适应性。其工作原理如下：<br>动态知识检索：配备RAG的代理可以动态检索特定信息，确保它们使用最新和上下文最相关的数据进行操作。<br>智能决策：代理处理检索到的数据，应用高级推理来生成解决方案、完成任务或以深度和准确性回答问题。<br>面向任务的执行：与静态RAG管道不同，自主代理式RAG系统可以执行多步骤任务、适应不断变化的目标或根据反馈循环改进其方法。<br>持续改进：通过学习，代理会随着时间的推移改进其检索策略、推理能力和任务执行，变得更加高效和有效。<br>以下是自主代理式RAG的应用：<br>客户支持：通过访问实时数据源，自动检索并交付对用户查询的准确响应。<br>内容创作：为法律或医学领域等复杂领域生成上下文丰富的内容，并由检索到的知识提供支持。<br>研究协助：通过自主收集和综合来自庞大数据库的相关材料，为研究人员提供帮助。<em>工作流程自动化：通过将检索驱动的决策制定集成到业务流程中，从而简化企业运营。<br>自主代理式RAG代表了检索增强生成和自主AI代理之间的强大协同作用，使系统能够以无与伦比的智能、适应性和相关性运行。这是朝着构建不仅信息灵通，而且还能够独立执行复杂的、知识密集型任务的AI系统迈出的重要一步。<br>如前所述，术语“自主代理式”表示系统表现得像一个智能代理，能够推理和决定使用哪些工具或方法来检索和处理数据。通过利用检索（例如，数据库搜索、网络搜索、语义搜索）和生成（例如，LLM处理）两者，此系统确保以最有效的方式回答用户查询。<br>同样，<br>自主代理式RAG路由器是旨在动态地将用户查询路由到适当的工具或数据源的系统，从而增强大型语言模型(LLM)的能力。此类路由器的主要目的是将检索机制与LLM的生成优势相结合，以提供准确且上下文丰富的响应。<br>这种方法弥合了LLM的静态知识（在预先存在的数据上训练）与从实时或特定领域数据源动态检索知识的需求之间的差距。通过结合检索和生成，自主代理式RAG路由器实现了以下应用：<br>问答<br>数据分析<br>实时信息检索<br>推荐生成<br>图表中显示的架构详细地可视化了自主代理式RAG路由器的运行方式。让我们分解组件和流程：<br>用户输入和查询处理</em>用户输入：用户提交查询，这是系统的入口点。这可以是问题、命令或特定数据的请求。<br>查询：用户输入被解析并格式化为查询，系统可以解释该查询。<br>检索代理<br>查询的意图。<br>所需信息的类型（结构化、非结构化、实时、推荐）。<br>检索代理充当核心处理单元。它充当协调器，决定如何处理查询。它评估：<br>路由器<br>向量搜索：使用语义嵌入检索相关文档或数据。<br>网络搜索：访问来自互联网的实时信息。<br>推荐系统：根据先前的用户交互或上下文相关性，建议内容或结果。<em>文本到SQL：将自然语言查询转换为SQL命令，以访问结构化数据库。<br>路由器确定处理查询的适当工具：<br>工具：此处列出的工具是模块化和专门化的：<br>向量搜索A和B：旨在搜索语义嵌入以查找向量化形式的匹配内容，非常适合非结构化数据，如文档、PDF或书籍。<br>网络搜索：访问外部实时网络数据。<br>推荐系统：利用AI模型提供特定于用户的建议。<br>数据源：系统连接到各种数据源：</em>结构化数据库：用于组织良好的信息（例如，基于SQL的系统）。<br>非结构化来源：PDF、书籍、研究论文等。<br>外部存储库：用于语义搜索、推荐和实时网络查询。<br>LLM集成：一旦检索到数据，就会将其馈送到LLM：<br>LLM将检索到的信息与其生成能力相结合，以创建连贯的、人类可读的响应。<br>输出：最终响应以清晰且可操作的格式发送回用户。<br>以下是自主代理式RAG路由器的类型：<br>在此设置中，一个统一的代理负责所有路由、检索和决策任务。<br>更简单和更集中，非常适合数据源或工具有限的系统。<br>用例：具有单一类型查询的应用程序，例如检索特定文档或处理基于SQL的请求。<br>在单一自主代理式RAG路由器中：<br>查询提交：用户提交查询，该查询由单个检索代理处理。<br>通过单个代理进行路由：检索代理评估查询并将其传递给单个路由器，该路由器决定使用哪个工具（例如，向量搜索、网络搜索、文本到SQL、推荐系统）。<br>工具访问：<em>路由器根据需要将查询连接到一个或多个工具。<br>文本到SQL与PostgreSQL或MySQL等数据库进行交互以进行结构化查询。<br>语义搜索从PDF、书籍或非结构化来源检索数据。<br>网络搜索获取实时在线信息。<br>推荐系统根据上下文或用户个人资料提供建议。<br>每个工具都从其各自的数据源中获取数据：<br>LLM集成：检索后，数据将传递到LLM，LLM将其与生成能力相结合以生成响应。<br>输出：响应以清晰、可操作的格式交付回用户。<br>这种方法是集中且高效的，适用于数据源和工具有限的简单用例。<br>此架构涉及多个代理，每个代理处理特定类型的任务或查询。<br>更模块化和可扩展，适用于具有各种工具和数据源的复杂系统。<br>用例：为各种用户需求提供服务的多功能系统，例如跨多个领域的研究、分析和决策制定。<br>在多重自主代理式RAG路由器中：<br>查询提交：用户提交查询，该查询最初由检索代理处理。<br>分布式检索代理：系统不是使用单个路由器，而是使用多个检索代理，每个代理专门处理特定类型的任务。例如：<br>检索代理1可能处理基于SQL的查询。<br>检索代理2可能专注于语义搜索。<br>检索代理3可以优先考虑推荐或网络搜索。<br>用于工具的各个路由器：每个检索代理根据其范围，将查询路由到其从共享池（例如，向量搜索、网络搜索等）分配的工具。<br>工具访问和数据检索：<br>每个工具都根据其检索代理的要求，从各自的来源获取数据。<br>多个代理可以并行运行，确保有效地处理各种查询类型。<br>LLM集成和综合：所有检索到的数据都传递到LLM，LLM综合信息并生成连贯的响应。<br>输出：最终处理的响应将返回给用户。这种方法是模块化和可扩展的，适用于具有各种工具和高查询量的复杂系统。<br>自主代理式RAG路由器结合了智能决策、强大的检索机制和LLM，以创建通用的查询-响应系统。该架构以最佳方式将用户查询路由到适当的工具和数据源，从而确保高度相关性和准确性。无论是使用单个路由器还是多个路由器设置，设计都取决于系统的复杂性、可扩展性需求和应用要求。<br>查询规划自主代理式RAG（检索增强生成）是一种方法，旨在通过利用跨各种数据源的多个可并行化的子查询来有效地处理复杂查询。这种方法结合了智能查询划分、分布式处理和响应综合，以交付准确而全面的结果。<br>以下是核心组件：<br>用户输入和查询提交<br>用户输入：用户将查询或请求提交到系统中。<br>输入查询经过处理并向下游传递以进行进一步处理。<br>查询规划器：查询规划器是协调该过程的中心组件。它：<br><em>解释用户提供的查询。<br>为下游组件生成适当的提示。<br>决定调用哪些工具（查询引擎）来回答查询的特定部分。<br>工具<br>查询引擎1<br>查询引擎2<br>工具是专门的管道（例如，RAG管道），其中包含查询引擎，例如：<br>这些管道负责从外部知识源（例如，数据库、文档或API）检索相关信息或上下文。<br>检索到的信息将发送回查询规划器以进行集成。<br>LLM（大型语言模型）<br>接收来自规划器的提示。<br>根据检索到的信息提供上下文感知的响应或改进的输出。<br>LLM充当复杂推理、自然语言理解和响应生成的综合引擎。<br>它与查询规划器进行双向交互：<br>综合和输出<br>综合：系统将从工具检索到的信息和LLM的响应组合成连贯的答案或解决方案。<br>输出：最终的综合结果呈现给用户。<br>模块化设计：该架构允许在工具选择和集成方面具有灵活性。<br>高效的查询规划：查询规划器充当智能中介，优化使用的组件及其顺序。<br>检索增强生成：通过利用RAG管道，系统利用最新的和特定领域的信息来增强LLM的知识。<br>迭代交互：查询规划器确保工具和LLM之间的迭代协作，逐步改进响应。<br>自适应检索增强生成(AdaptiveRAG)是一种通过根据传入查询的复杂性定制查询处理策略，来增强大型语言模型(LLM)的灵活性和效率的方法。<br>自适应RAG根据查询的复杂性，动态地在不同的问题解答策略之间进行选择——从简单的单步方法到更复杂的多步方法，甚至是非检索过程。这种选择由分类器促进，分类器分析查询的性质并确定最佳方法。<br>Adaptive-RAG：通过问题复杂性学习自适应检索增强大型语言模型<br>以下是与单步、多步和自适应方法的比较：<br>单步方法<br>对于“迈克尔·菲尔普斯的生日是什么时候？”等简单查询效果良好，但对于“比利·吉尔斯的出生地使用什么货币？”等复杂查询则会失败，原因是中间推理不足。<br>这会导致复杂情况下的答案不准确。<br>工作原理：对于简单查询和复杂查询，都执行单轮检索，并直接从检索到的文档中生成答案。<br>局限性：<br>多步方法<br>虽然功能强大，但它为简单查询引入了不必要的计算开销。例如，重复处理“迈克尔·菲尔普斯的生日是什么时候？”是低效且冗余的。<br>工作原理：无论查询是简单还是复杂，都会经过多轮检索，迭代生成中间答案以改进最终响应。<br>局限性：<br>自适应方法<br>工作原理：此方法使用分类器来确定查询的复杂性并选择适当的策略：<br>优势<br>减少简单查询的不必要开销，同时确保复杂查询的高精度。<br>灵活适应各种查询复杂性。<br>直接查询：直接生成答案，无需检索（例如，“巴黎是哪个国家的首都？”）。<br>简单查询：使用单步检索过程。</em>复杂查询：采用多步检索进行迭代推理和答案改进。<br>来源：作者<br>分类器角色：<br>较小的语言模型预测查询复杂性。<br>它使用自动标记的数据集进行训练，其中标签来自过去的模型结果和数据中的固有模式。<br>动态策略选择：<br>对于简单或直接的查询，框架避免浪费计算资源。<br>对于复杂查询，它通过多个检索步骤确保足够的迭代推理。<br>以下是来自LangGraph的自适应RAG系统架构流程的另一个示例：<br>该过程从分析用户查询开始，以确定检索和生成答案的最合适途径。<br>步骤1：路由确定<br>根据查询与现有索引（数据库或向量存储）的相关性，将查询分类到类别中。<br>**[与索引相关]*<em>：如果查询与索引内容对齐，则将其路由到RAG模块以进行检索和生成。<br>[与索引无关]：如果查询超出索引范围，则将其路由到网络搜索或其他外部知识源。<br>可选路由：可以为更专业的场景添加其他途径，例如特定领域的工具或外部API。<br>如果查询通过RAG模块路由，它将经历一个迭代的、自我反思的过程，以确保高质量和准确的响应。<br>检索节点<br>根据查询从索引数据库中检索文档。<br>这些文档将传递到下一阶段进行评估。<br>评分节点<br>如果文档相关：继续生成答案。<br>如果文档不相关：重写查询以获得更好的检索效果，并且该过程循环回到检索节点。<br>评估检索到的文档的相关性。<br>决策点：<br>生成节点</em>根据相关文档生成响应。<br>生成的响应将进一步评估，以确保准确性和相关性。<br>自我反思步骤<br>它是否回答了问题？<br>幻觉检查<br>如果检测到幻觉（不准确或编造的事实）：重写查询，或触发额外的检索以进行纠正。<br>如果“是”：过程结束，答案返回给用户。<em>如果“否”：查询将进行另一次迭代，可能会进行额外的改进。<br>重写问题节点<br>改进查询以获得更好的检索结果，并将其循环回到该过程。<br>这确保了模型能够动态地适应以处理边缘情况或不完整的数据。<br>如果在查询分析阶段，查询被认为与索引知识库不相关：<br>使用网络搜索生成节点：系统直接执行网络搜索，并使用检索到的数据生成响应。<br>使用网络搜索回答：生成的响应将直接交付给用户。<br>本质上，自适应RAG是一种智能且资源感知的框架，通过利用量身定制的查询策略来提高响应质量和计算效率。<br>低质量的检索器通常会引入大量不相关的信息，阻碍生成器访问准确的知识，并可能误导它们。<br>来源：纠正式检索增强生成<br>同样，以下是RAG的一些问题：<br>低质量的检索器：这些检索器可能会引入大量不相关或误导性的信息。这不仅会阻碍模型获取准确知识的能力，还会增加生成过程中产生幻觉的风险。<br>不加区分的利用：许多传统的RAG系统不加区分地整合所有检索到的文档，而不管它们的相关性如何。这导致了不必要或不正确的数据的集成。<br>低效的文档处理：当前的RAG方法通常将完整文档视为知识来源，即使检索到的文本的大部分可能不相关，也会冲淡生成质量。<br>对静态语料库的依赖：依赖于固定数据库的检索系统只能提供有限或次优的文档，无法适应动态的信息需求。<br>CRAG旨在通过引入自我纠正检索结果、增强文档利用率和提高生成质量的机制来解决上述问题。<br>检索评估器：一个轻量级组件，用于评估检索到的文档对于查询的相关性和可靠性。此评估器为文档分配置信度。<br>触发的操作：根据置信度得分，会触发不同的检索操作——“正确”、“不明确”或“不正确”。</em>用于增强的网络搜索：CRAG认识到静态数据库的局限性，集成了大规模网络搜索以补充和改进检索结果。<br>分解-再组合算法：此方法有选择地从检索到的文档中提取关键信息，丢弃不相关的部分以改进生成器的输入。<br>即插即用功能：CRAG可以与现有的基于RAG的系统无缝集成，而无需进行广泛的修改。<br>来源：DipanjanSarkar<br>使用输入查询从向量数据库中检索上下文文档。这是收集潜在相关信息的第一步。<br>使用大型语言模型(LLM)评估检索到的文档是否与输入查询相关。这确保了检索到的文档适合该问题。<br>如果所有文档都相关（正确），则不需要特定的纠正措施，并且该过程可以继续进行生成。<br>如果检测到不明确或不正确，请继续执行步骤4。<br>如果文档不明确或不正确：<br>根据LLM的见解改写查询。<br>进行网络搜索或其他检索，以获取更新且准确的上下文信息。<br>将改进的查询和相关上下文文档（已纠正或原始文档）发送到LLM以生成最终响应。响应的类型取决于检索到的或纠正后的文档的质量：<br>正确：将查询与检索到的文档一起使用。<br>不明确：将原始上下文文档和新上下文文档组合在一起。*不正确：使用纠正后的查询和新检索到的文档进行生成。<br>此工作流程通过迭代纠正和改进来确保响应的高度准确性。<br>其想法是将RAG系统与一些检查结合使用，并且在缺少与给定用户查询相关的上下文文档时执行网络搜索，如下所示：<br>来源：DipanjanSarkar<br>问题：这是来自用户的输入，它启动了该过程。<br>检索（节点）：系统查询向量数据库以检索可能回答用户问题的上下文文档。3.评分（节点）：大型语言模型(LLM)评估检索到的文档是否与查询相关。<br>如果所有文档都被认为是相关的，则系统继续生成答案。<br>如果任何文档不相关，则系统会改写查询并尝试进行网络搜索。<br>####步骤1–检索节点<br>系统根据查询从向量数据库中检索文档，提供上下文或答案。<br>LLM评估文档相关性：<br>全部相关：继续生成答案。<br>部分不相关：标记问题并改进查询。<br>步骤3A–生成答案节点：如果所有文档都相关，则LLM生成快速响应。<br>步骤3B–重写查询节点：对于不相关的结果，将改写查询以获得更好的检索效果。<br>步骤3C–网络搜索节点：网络搜索收集更多上下文。<br>步骤3D–生成答案节点：改进的查询和新数据用于生成答案。<br>我们可以通过在图中设置特定的功能步骤作为节点，并使用LangGraph来实现它，从而将其构建为自主代理式RAG系统。节点中的关键步骤将包括发送到LLM的提示，以执行特定任务，如下面的详细工作流程所示：<br>来源：使用LangGraph构建自主代理式RAG系统的综合指南<br>自主纠正式RAG架构通过纠正步骤增强了检索增强生成(RAG)，以获得准确的答案：<br>查询和初始检索：用户查询从向量数据库中检索上下文文档。<br>文档评估：LLM评分器提示评估每个文档的相关性（“是”或“否”）。<br>决策节点：<br>全部相关：直接继续生成答案。</em>不相关文档：触发纠正步骤。<br>查询改写：LLM改写提示重写查询以优化网络检索。<br>额外检索：网络搜索检索改进的上下文文档。<br>响应生成：RAG提示仅使用经过验证的上下文生成答案。<br>以下是CRAG的简要操作：<br>错误纠正：此架构通过识别不相关的文档并检索更好的文档来迭代地提高上下文准确性。<br>自主代理式行为：系统根据LLM的评估动态调整其操作（例如，改写查询、执行网络搜索）。<br>事实性保证：通过将生成步骤锚定到经过验证的上下文文档，该框架最大限度地降低了产生幻觉或不正确响应的风险。<br>自我反思式RAG（检索增强生成）是自然语言处理(NLP)中的一种高级方法，它结合了基于检索的方法和生成模型的优点，同时添加了额外的自我反思和逻辑推理层。例如，自我反思式RAG有助于检索、重写问题、丢弃不相关或产生幻觉的文档以及重试检索。简而言之，它的引入是为了捕捉使用LLM自我纠正低质量检索和&#x2F;或生成的想法。<br>LLM的决策：评估查询以确定是否可以使用给定的检索上下文来回答查询。<br>路由：如果查询是可回答的，则立即生成响应。否则，它将被路由到具有完整上下文文档的长上下文模型以生成响应。<br>效率和准确性：此设计平衡了成本效率（避免不必要的计算成本和时间）和准确性（仅在需要时利用长上下文模型）。<br>按需自适应检索：<br>与预先检索一组固定段落的传统RAG方法不同，SELF-RAG根据正在进行的生成过程动态地决定是否需要检索。<br>此决策是使用在生成过程中充当信号的反思标记做出的。<br>来源：SELF-RAG：通过自我反思学习检索、生成和评论<br>反思标记：这些是集成到LLM工作流程中的特殊标记，具有两个目的：<br>检索标记：指示是否需要来自外部来源的更多信息。<br>评论标记：自我评估生成的文本以评估质量、相关性或完整性。<br>通过使用这些标记，LLM可以决定何时检索并确保生成的文本与引用的来源对齐。<br>用于质量保证的自我评论：<br>LLM使用生成的评论标记来评论其自身的输出。这些标记验证了生成段落的相关性、支持性或完整性等各个方面。<br>此机制确保最终输出不仅连贯，而且还得到检索到的证据的良好支持。<br>可控且灵活：反思标记允许模型在推理过程中调整其行为，使其适用于各种任务，例如回答需要检索的问题或生成无需检索的独立输出。<br>改进的性能：通过结合动态检索和自我评论，SELF-RAG在生成更高质量的、由证据更好支持的输出方面，超越了标准RAG模型和大型语言模型(LLM)。<br>基本的RAG流程涉及LLM根据检索到的文档生成输出。高级RAG方法（如路由）允许LLM根据查询选择不同的检索器。自我反思式RAG添加了反馈循环，根据需要重新生成查询或重新检索文档。状态机非常适合这种迭代过程，它定义了步骤（例如，检索、查询改进）和转换，从而实现动态调整，例如当检索到的文档不相关时重新查询。<br>我创建了一个自我反思式RAG（检索增强生成）架构。以下是流程和组件：<br>该过程从查询开始（以绿色显示）<br>第一个决策点：“是否需要检索？”<br>如果“否”：查询直接发送到LLM进行处理<br>如果“是”：系统继续执行检索步骤<br>知识库集成<em>知识库（以紫色显示）连接到“检索相关文档”步骤<br>此检索过程提取潜在的相关信息以回答查询<br>相关性评估<br>检索到的文档经过“评估相关性”步骤<br>文档被分类为“相关”或“不相关”<br>不相关的文档会触发另一次检索尝试<br>相关文档将传递到LLM<br>LLM处理<br>LLM（以黄色显示）处理查询以及相关的检索信息<br>生成初始答案（以绿色显示）<br>验证过程<br>系统执行幻觉检查：确定生成的答案是否与提供的上下文对齐（避免不受支持或捏造的响应）。<br>自我反思<br>“评论生成的响应”步骤（以蓝色显示）评估答案<br>这是架构的“自我反思”部分<br>如果答案不令人满意，系统可以触发查询重写并重新启动该过程<br>最终输出：一旦生成“准确的答案”，它就成为最终输出####评分和生成决策<br>检索节点：处理文档的初始检索。<br>评分文档：评估检索到的文档的质量和相关性。<br>转换查询：如果未找到相关文档，则调整查询以进行重新检索。<br>生成过程：<br>决定是否根据检索到的文档直接生成答案。<br>使用条件边迭代地改进答案，直到答案被认为是有效为止。<br>来源：SELF-RAG：通过自我反思学习检索、生成和评论<br>以下是传统RAG和Self-Rag的工作流程，使用示例提示“美国各州是如何得名的？”。<br>步骤1–检索K个文档：检索特定文档，例如：<br>“在50个州中，有11个州是以个人名字命名的”<br>“各州的热门名字。在德克萨斯州，艾玛是一个流行的婴儿名字”</em>“加利福尼亚州是以西班牙小说中的一个虚构岛屿命名的”<br>步骤2–使用检索到的文档生成：<br>采用原始提示（“美国各州是如何得名的？”）+所有检索到的文档<br>语言模型生成一个结合所有内容的响应<br>这可能会导致矛盾或混合不相关的信息（例如，声称加利福尼亚州是以克里斯托弗·哥伦布的名字命名的）<br>步骤1–按需检索：<br>从提示“美国各州是如何得名的？”开始<br>对州名来源进行初始检索<br>步骤2–并行生成段落：<br>创建多个独立的段落，每个段落都有自己的：<br>提示+检索到的信息<br>事实核查<br>示例：<br>段落1：关于以人名命名的州的事实<br>段落2：关于德克萨斯州命名的信息<br>段落3：关于加利福尼亚州名称由来的详细信息<br>步骤3–评论和选择：<br>评估所有生成的段落<br>选择最准确&#x2F;相关的段落<br>可以在需要时检索更多信息<br>将经过验证的信息组合到最终响应中####关键改进是Self-RAG<br>将响应分解为更小的、可验证的部分<br>独立验证每个部分<br>可以在需要时动态检索更多信息<br>仅将经过验证的信息组合到最终响应中<br>如下面的“写一篇关于你最美好的暑假的作文”示例所示：<br>传统RAG仍然尝试不必要地检索文档<br>Self-RAG识别出不需要检索，并直接从个人经验中生成。<br>推测式RAG是一种智能框架，旨在使大型语言模型(LLM)在回答问题时既更快又更准确。它通过在两种语言模型之间分配工作来实现这一点：<br>一个小型、专用模型，可以快速起草潜在的答案。<br>一个大型、通用模型，可以仔细检查这些草稿并选择最佳草稿。<br>当您提出问题时，特别是需要精确或最新信息的问题（例如“_新款iPhone的最新功能是什么？_”），常规LLM通常会遇到困难，原因是：<br>它们可能会“产生幻觉”：这意味着它们可能会自信地给出错误或编造的答案。<br>它们依赖于过时的知识：如果模型没有根据最近的数据进行训练，则它无法帮助提供更新的事实。<br>复杂的推理需要时间：如果要处理大量信息（例如长文档），模型可能需要很长时间才能响应。<br>这就是检索增强生成(RAG)介入的地方。RAG检索实时的、相关的文档（例如来自数据库或搜索引擎），并使用它们来生成答案。但问题是：当处理大量数据时，RAG仍然可能速度慢且资源密集。<br>推测式RAG通过添加专门的团队合作来解决此问题：(1)专家RAG起草者，以及(2)通用RAG验证者。<br>将推测式RAG想象成一个两人团队在解决难题：<br>步骤1：收集线索“检索器”外出并获取包含与您的问题相关信息的文档。例如，如果您问“_谁在1980年的电影《朝九晚五》中扮演了多拉莉·罗德斯？_”，它会提取有关这部电影以及音乐剧的文章。<br>步骤2：起草答案（小型模型）一个较小、更快的语言模型（专家起草者）处理这些文档。它的工作是：<br>快速创建多个可能的答案草稿。<br>包括每个草稿的推理（例如说，“此答案基于此来源”）。<br>此模型就像一位初级侦探，可以快速勾勒出想法。<br>步骤3：验证最佳答案（大型模型）一个更大、更强大的语言模型（通用验证者）接下来介入。它：<br>检查每个草稿的准确性和相关性。<br>根据置信度对它们进行评分。<br>选择最佳草稿作为最终答案。5.将此模型视为高级侦探，他会仔细检查初级侦探的工作并做出最终决定。<br>让我们来看一个示例查询：<br>“_谁在1980年的电影《朝九晚五》中饰演多拉莉·罗德斯？_”<br>检索文档：系统查找有关电影(1980)和音乐剧(2010)的文章。<br>起草答案（专家起草者）：<br>草稿1：“_多莉·帕顿在1980年的电影《朝九晚五》中扮演了多拉莉·罗德斯。_”<br>草稿2：“_多拉莉·罗德斯是2010年音乐剧《朝九晚五》中的一个角色。_”<br>验证答案（通用验证者）：<br>草稿1获得高分，因为它与电影和问题相符。<br>草稿2获得低分，因为它与音乐剧有关，而不是电影。<br>最终答案：系统自信地输出：“_多莉·帕顿在1980年的电影《朝九晚五》中扮演了多拉莉·罗德斯。_”<br>更快的响应：较小的模型处理生成草稿的繁重工作，从而加快了速度。<br>更准确的答案：较大的模型仅专注于审查草稿，从而确保高质量的结果。<br>高效的资源利用：较大的模型不会浪费时间处理不必要的细节——它只验证。<br>###推测式RAG的主要优势<br>均衡的性能：它速度快，因为小型模型起草，而且准确，因为大型模型验证。<br>避免浪费精力：大型模型不会审查所有内容，而只会检查小型模型建议的内容。3.实际应用：非常适合回答需要推理和实时、最新信息的难题。<br>推测式RAG就像拥有一个聪明的助手（专家起草者）和一个细心的编辑（通用验证者）协同工作，以确保您的答案不仅快速而且非常准确！<br>来源：推测式RAG：通过起草增强检索增强生成<br>工作原理：它从知识库中检索文档，并直接将它们合并到通用LM的输入中。<br>弱点：这种方法给通用LM增加了负担，它既要理解文档，又要生成最终答案。它没有区分相关信息和不相关信息。<br>添加内容：通用LM学习对检索到的文档进行分类，判断其是相关还是不相关，并且可以根据这些分类来调整自身。<br>弱点：它需要对通用LM进行额外的指令微调以处理这些分类，并且可能仍然会产生效率较低的答案。<br>添加内容：在将文档合并到通用LM的提示之前，使用外部自然语言推理(NLI)模型将文档分类为“正确”、“不明确”或“不正确”。<br>弱点：这通过引入额外的NLI步骤增加了复杂性，从而减慢了该过程。<br>主要创新：它将任务分为两部分：<br>专家RAG起草者（较小的LM）快速生成多个答案草稿和理由。<br>通用LM评估这些草稿并选择最佳草稿。<br>逐步过程：<br>答案草稿(α)<br>随附的理由(β)。*验证和选择：通用LM评估所有草稿(α1,α2,α3)及其理由以分配分数。它选择置信度最高的草稿作为最终答案。<br>问题输入：当系统收到知识密集型问题时，它会检索相关文档。<br>并行起草：专家RAG起草者并行处理检索到的文档子集。每个子集生成：<br>推测式RAG框架实现了速度和准确性的完美平衡：<br><em>小型专家LM完成繁重的工作（根据检索到的文档起草答案）。<br>大型通用LM确保最终输出准确且理由充分。这种方法通过减少延迟同时保持最先进的准确性，从而优于早期方法。<br>直接将所有检索到的文档传递给通用LM。<br>低效且容易出现不相关的内容。<br>将起草工作分流给专家，从而减轻负担。<br>LM学习将文档分类为相关&#x2F;不相关。<br>需要指令微调，仍然速度慢。<br>专家LM并行处理此问题，无需微调。<br>使用自然语言推理(NLI)模型来分类文档的正确性。<br>增加复杂性，减慢响应时间。<br>避免额外的步骤；使用草稿进行快速评估。<br>分割起草（专家LM）和验证（通用LM）。<br>无（更快且更准确）。<br>结合了速度、准确性和并行处理。<br>自路由是自主代理式RAG系统中的一种设计模式，其中大型语言模型(LLM)在决定如何处理查询方面发挥着积极作用。该方法依赖于LLM的自我反思能力，并确定它是否可以根据提供的上下文生成准确的响应。如果模型确定它无法生成可靠的响应，则会将查询路由到替代方法，例如长上下文模型，以进行进一步处理。此架构利用LLM的内部校准来确定可回答性，从而优化性能和成本。在检索增强生成还是长上下文LLM？综合研究和混合方法中介绍了此方法，该方法结合了检索增强生成(RAG)和长上下文(LC)，以实现成本效率，同时保持与LC相当的性能。自路由利用LLM本身通过自我反思来路由查询，其前提是LLM在预测给定上下文是否可以回答查询方面是经过良好校准的。<br>自路由的关键组件：<br>1.LLM的决策：评估查询以确定是否可以使用给定的上下文来回答查询。2.路由：如果查询是可回答的，则立即处理。否则，它将被路由到具有附加或完整上下文的长上下文模型。3.效率和准确性：此设计平衡了成本效率（避免不必要的计算）和准确性（仅在需要时利用长上下文模型）。<br>来源：DipanjanSarkar<br>输入查询和上下文检索：<br>提交用户查询。<br>使用向量数据库检索相关上下文文档，该数据库将查询与预先索引的文档进行匹配。<br>决策节点：<br>像GPT-4o或Gemini这样的长上下文LLM接收查询和上下文文档。</em>它使用LLM判断提示：<br>提示：<br>RAG提示（对于ANSWERABLE查询）：<br>如果存在足够的上下文，则使用以下提示来生成响应：<br>答案生成：<br>GPT4o模型处理RAG提示并根据提供的上下文生成答案。<br>触发条件：<br>如果决策节点判断查询为UNANSWERABLE，则该过程切换到长上下文LLM流程。<br>合并上下文文档：<br>LLM判断提示识别出上下文中存在不足，因此合并操作将多个相关的上下文文档合并为单个长上下文文档，以获得更好的上下文连续性。<br>长上下文提示：<br>然后，合并后的文档将用作GPT-4o模型的输入，并使用以下提示：<br>答案生成：<br>GPT4o模型处理长上下文提示并根据丰富的、合并的上下文生成响应。<br>以下是主要特征和工作流程：<br>动态决策：<br>该架构动态地评估上下文是否足以回答查询，从而确保系统根据输入复杂性进行调整。<br>两层答案生成：<br>标准RAG流程：处理具有可用且足够上下文的简单查询。<br>长上下文LLM流程：解决需要广泛或组合上下文的复杂查询。<br>用于精细控制的提示：<br>RAG提示和长上下文提示中的显式指令通过将模型限制为提供的上下文来确保事实性，从而避免产生幻觉。<br>具有向量数据库的可扩展性：<br>系统通过在做出有关查询处理的决策之前从向量数据库中检索相关上下文来有效地扩展。<br>标准RAG流程有效地处理具有可用且足够上下文的查询。<br>长上下文LLM流程通过将多个文档合并为连贯的长上下文来扩展处理复杂查询的能力。<br>精心设计的提示和决策节点可确保准确性、上下文一致性以及对各种查询要求的适应性。<br>随着检索增强生成(RAG)领域的进步，自主代理式RAG系统已成为一项变革性创新，它将传统的RAG工作流程与AI代理的自主性和适应性相结合。这种融合使系统能够动态检索相关知识、智能地改进上下文并精确执行多步骤任务。<br>从自主代理式RAG路由器和自我反思式RAG，到推测式RAG和自路由RAG等高级架构，每种方法都解决了特定的挑战，例如不相关的检索、推理错误或计算效率低下。这些系统在提高客户支持、工作流程自动化和研究协助等各种应用中的准确性、适应性和可扩展性方面取得了重大进展。<br>通过将生成式AI与高级检索机制相结合，自主代理式RAG不仅提高了效率，而且还为未来的AI创新奠定了基础。当我们迈向2025年之际，这些技术有望重新定义我们利用数据、自动化工作流程和解决复杂问题的方式，使其成为企业和开发人员必不可少的工具包。<br>添加微信，备注”LLM“进入大模型技术交流群<br>如果你觉得这篇文章对你有帮助，别忘了点个赞、送个喜欢</p>
<blockquote>
<p>&#x2F;作者：致Great</p>
</blockquote>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">ZejunCao</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://zejuncao.github.io/2025/04/08/1000000629-2247493339-1/">https://zejuncao.github.io/2025/04/08/1000000629-2247493339-1/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">ZejunCao</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/ChallengeHub/">
                                    <span class="chip bg-color">ChallengeHub</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="far fa-dot-circle"></i>&nbsp;本篇
            </div>
            <div class="card">
                <a href="/2025/04/08/1000000629-2247493339-1/">
                    <div class="card-image">
                        
                        <img src="/medias/frontcover/1000000629_2247493339_1.jpg" class="responsive-img" alt="构建Agentic RAG 系统的方法有哪些？">
                        
                        <span class="card-title">构建Agentic RAG 系统的方法有哪些？</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2025-04-08
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            ZejunCao
                            
                        </span>
                    </div>
                </div>

                
                <div class="card-action article-tags">
                    
                    <a href="/tags/ChallengeHub/">
                        <span class="chip bg-color">ChallengeHub</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2025/04/08/1000000175-2247487526-2/">
                    <div class="card-image">
                        
                        <img src="/medias/frontcover/1000000175_2247487526_2.jpg" class="responsive-img" alt="面试官问：大模型领域，有哪些提高大规模模型的训练和推理效率库？">
                        
                        <span class="card-title">面试官问：大模型领域，有哪些提高大规模模型的训练和推理效率库？</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2025-04-08
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            ZejunCao
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/AIGC%E5%B0%8F%E7%99%BD%E5%85%A5%E9%97%A8%E8%AE%B0/">
                        <span class="chip bg-color">AIGC小白入门记</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>



<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="/libs/aplayer/Meting.min.js"></script>

    

    <div class="container row center-align"
         style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2025</span>
            
            <a href="/about" target="_blank">ZejunCao</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            
            <br>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/ZejunCao" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:caozejun369@163.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1378463428" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1378463428" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>



    <a href="https://weibo.com/u/5915009280" class="tooltipped" target="_blank" data-tooltip="关注我的微博: https://weibo.com/u/5915009280" data-position="top" data-delay="50">
        <i class="fab fa-weibo"></i>
    </a>



    <a href="https://www.zhihu.com/people/Garfusion/posts" class="tooltipped" target="_blank" data-tooltip="关注我的知乎: https://www.zhihu.com/people/Garfusion/posts" data-position="top" data-delay="50">
        <i class="fab fa-zhihu1">知</i>
    </a>



</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 白天和黑夜主题 -->
<div class="stars-con">
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>  
</div>

<script>
    function switchNightMode() {
        $('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($('body')),
        setTimeout(function () {
            $('body').hasClass('DarkMode') 
            ? ($('body').removeClass('DarkMode'), localStorage.setItem('isDark', '0'), $('#sum-moon-icon').removeClass("fa-sun").addClass('fa-moon')) 
            : ($('body').addClass('DarkMode'), localStorage.setItem('isDark', '1'), $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')),
            
            setTimeout(function () {
            $('.Cuteen_DarkSky').fadeOut(1e3, function () {
                $(this).remove()
            })
            }, 2e3)
        })
    }
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    
    
    

    <!-- 雪花特效 -->
    

    <!-- 鼠标星星特效 -->
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
