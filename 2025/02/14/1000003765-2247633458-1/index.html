<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="赶紧放弃强化学习？！Meta 首席 AI 科学家杨立昆喊话：当前推理方式会“作弊”，卷大模型没有意义！, ZejunCao&#39;Blogs">
    <meta name="description" content="赶紧放弃强化学习？！Meta 首席 AI 科学家杨立昆喊话：当前推理方式会“作弊”，卷大模型没有意义！

仅用于站内搜索，没有排版格式，具体信息请跳转上方微信公众号内链接

编译|傅宇琪	“别说是试图重现人类的智慧，我们甚至连猫的智慧都无法">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>赶紧放弃强化学习？！Meta 首席 AI 科学家杨立昆喊话：当前推理方式会“作弊”，卷大模型没有意义！ | ZejunCao&#39;Blogs</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    


    <!-- bg-cover style     -->



<link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
<link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
<link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
<link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
<link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
<link rel="stylesheet" type="text/css" href="/css/matery.css">
<link rel="stylesheet" type="text/css" href="/css/my.css">
<link rel="stylesheet" type="text/css" href="/css/dark.css" media="none" onload="if(media!='all')media='all'">




    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
    <link rel="stylesheet" href="/css/post.css">




    
        <link rel="stylesheet" type="text/css" href="/css/reward.css">
    



    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

<meta name="generator" content="Hexo 7.3.0"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">ZejunCao&#39;Blogs</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
  <li>
    <a href="javascript:;" class="waves-effect waves-light" onclick="switchNightMode()" title="深色/浅色模式" >
      <i id="sum-moon-icon" class="fas fa-sun" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">ZejunCao&#39;Blogs</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/frontcover/1000003765_2247633458_1.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">赶紧放弃强化学习？！Meta 首席 AI 科学家杨立昆喊话：当前推理方式会“作弊”，卷大模型没有意义！</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE/">
                                <span class="chip bg-color">开源项目</span>
                            </a>
                        
                            <a href="/tags/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%E8%81%9A%E5%90%88%E5%B9%B3%E5%8F%B0/">
                                <span class="chip bg-color">微信公众号聚合平台</span>
                            </a>
                        
                            <a href="/tags/AI%E5%89%8D%E7%BA%BF/">
                                <span class="chip bg-color">AI前线</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2025-02-14
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/xYFSyN19TRmjHQmmQv8pfg">赶紧放弃强化学习？！Meta 首席 AI 科学家杨立昆喊话：当前推理方式会“作弊”，卷大模型没有意义！</a></p>
<blockquote>
<p>仅用于站内搜索，没有排版格式，具体信息请跳转上方微信公众号内链接</p>
</blockquote>
<p>编译|傅宇琪	<br>“别说是试图重现人类的智慧，我们甚至连猫的智慧都无法重现！”现有的大语言模型面临着这样的困境：它们基于深度学习架构，通过在大规模数据上进行预训练、调整参数，看似构建起了对世界的“理解”，实际上却仍然缺乏对现实认知的“基本常识”。那么，怎么样才能构建出真正会“思考”的模型？从穷尽模拟到预测关键关系，推理方式的改变会是AI的下一次革命吗？<br>近日，在巴黎举办的AIActionSummit2025上，Meta首席AI科学家杨立昆（YannLeCun）提出了他认为的人工智能领域一次根本性转向——突破大语言模型的暴力计算范式。未来的AI不应仅停留在”预测下一个词元”的层面，而应基于能够推理、规划和适应的世界模型。基于该演讲视频，InfoQ进行了部分增删。<br>核心观点如下：<br>AI的未来不仅是数据处理，更是对世界的深度理解。<br>仅仅通过文本数据，我们永远无法让AI达到人类的智能水平。<br>高级机器智能需要满足：能从感官输入中学习、具有持久记忆、能够规划和推理、可控、在设计上保证安全。<br>与其坚持做那些无法预测的事物的概率预测，不如选择不预测它们。<br>放弃生成式模型，放弃概率模型，放弃对比方法，放弃强化学习。</p>
<pre><code>    现有AI的缺陷在哪？
</code></pre>
<p>我们需要具备人类水平的AI担任智能助手。这不仅仅是一个有趣的科学问题，它也满足了产品需求。未来，我们将佩戴如智能眼镜等类型的设备，并且在这些智能设备中，我们将能随时访问AI助手，与它们进行互动，不论是通过声音、视觉，还是其他别的方式。我们需要这些系统具备人类水平的智能，因为我们熟悉与人类互动的方式，所以期望与之交互的系统也具备类似的智能形式。这些无处不在的助手将成为我们与数字世界互动的媒介。因此，我们需要它们能够便于使用，特别是对于那些不一定熟悉技术的群体。<br>问题在于，当前的机器学习技术还远远不够，我们没有足够的技术来构建具备相同学习能力、常识和对物理世界理解的机器。动物和人类拥有“常识”，能够非常快速地学习新任务、理解世界的运作方式，并具备推理和计划的能力，行为由目标驱动。而目前的AI系统，并不具备我们所需要的特性。原因在于，这些系统基本上是通过自回归方式逐个生成token来构建输出，依赖一个预测器在token序列上重复操作，通过查看前面的token窗口来预测下一个token。在训练过程中，系统被输入一个序列并复现该序列，但由于因果结构（CausalArchitecture）的限制，系统只能依赖前一个token来预测下一个token，无法通过特定输入预测自身。<br>人们通常把这种方式称为GenerativePre-trainedTransformer（GPT），它很高效，但存在一个问题：它是发散的。每生成一个token，都有可能生成一个不在合理答案范围内的token，从而将生成结果推向更不合理的方向。如果发生这种情况，之后就无法修正。而如果假设生成错误token的概率是存在的，并且假设这些错误是独立的（当然它们并非独立），那么就会导致指数级的发散，这也就是为什么这些模型会出现“幻觉”的原因。<br>别说试图重现人类的智慧，我们甚至连猫的智慧都无法重现。猫理解物理世界，一些家猫甚至知道如何开门、如何拧水龙头。一个十岁的孩子可以在第一次要求下，轻松收拾好餐桌并把碗筷放进洗碗机里；一个十七岁的孩子经过二十小时的练习就能学会开车。但尽管我们已经有了成千上万小时的监督训练数据，我们依然没有训练出像猫一样灵活行动的机器人，没有能够收拾餐桌的家庭机器人，也没有能够实现完全自动驾驶的汽车。这意味着，我们仍然缺少一些非常重要的东西。<br>然而，我们的系统能够通过司法考试、解数学题、证明定理。这就导致我们一直面临一个悖论，叫做“莫拉维克悖论（Moravec’sParadox）”。我们认为那些人类和动物能轻松完成的事情很简单，实际上它们对计算机来说非常复杂；而那些对人类困难的任务，比如操控和生成语言、下棋、打扑克、创作诗歌等等，对计算机来说相对简单。<br>或许原因就在于一个非常简单的计算。如今，典型的大语言模型通常是在约30万亿个token（即3*10^13个token）上进行训练的，每个token大约是三个字节。所以，数据量大约是10^14个字节。如果我们每个人去阅读这些材料，几乎需要五十万年才能完成。事实上，这些数据几乎涵盖了互联网上所有公开可用的文本。<br>现在，考虑一个4岁的人类小孩，他在世界上醒来的总时长为16,000小时（大约仅相当于YouTube平台上30分钟内视频的上传量）。人类有200万个视神经纤维，每根纤维传输大约1字节&#x2F;秒，数据量大约是10^14字节。也就是说，一个四岁的孩子在视觉感知中接收到的总数据量，和最大的大模型差不多。<br>这说明了很多问题：我们永远无法仅仅通过文本数据让AI达到人类的智能水平。尽管有些人可能出于某些利益考虑告诉我们，明年就能实现博士级别的智能，但这根本不可能发生。我们可能会在某些子领域或者某些问题上，例如下棋，达到某种程度的博士级别智能，但前提是我们为此专门训练一个系统。<br>视觉错觉（VisualIllusions）这类问题中存在许多类似的情况：当你向大语言模型提出一个问题时，如果这个问题是标准的谜题，系统会在几秒钟内给出答案。但如果你稍微改变一下问题的表述，系统依然会输出之前的答案，因为它并没有真正理解该问题。<br>那么，人类婴儿是如何学习世界运作的呢？婴儿在生命的最初几个月内，就积累了大量关于世界的背景知识，比如物体恒常性、坚固性、刚性、自然物体类别等概念。在婴儿理解语言之前，他们已经能够区分桌子和椅子的不同，这种能力是自然而然发展的。四个月大之前，婴儿基本上无法对世界产生任何影响，但之后通过与外界的互动，他们的理解逐渐深化，大约在九个月大的时候就能够理解一些直观的物理概念，比如重力、惯性等。需要的互动量并不大，但仍然是非常重要的。所以，如果我们想要开发一个能够最终达到人类智能水平的人工智能系统，这个过程可能会需要很长时间。</p>
<pre><code>    如何实现“高级人工智能”
</code></pre>
<p>Meta不喜欢使用“通用人工智能（AGI）”这个术语，因为人类级别的智能实际上是相当专业化的，我们称其为“高级机器智能（AdvancedMachineIntelligence）”。<br>那么，AMI应该是什么样的呢？是能从感官输入中学习世界模型的系统，比如能通过视频学习直观物理，是具有持久记忆、能够规划行动的系统，是能够进行推理的系统，是可控、且在设计上保证安全的系统，而不是像大语言模型那样通过微调来实现安全。<br>我所知道的构建此类系统的唯一方法是改变当前AI系统执行推理的方式。</p>
<pre><code>    当前大模型如何推理	
</code></pre>
<p>当前的大语言模型执行推理的方式是通过固定层数的神经网络层进行处理，生成一个token，将该token注入input中，再次通过固定层数的网络进行处理。问题在于，如果你问一个或简单或复杂的问题，并要求系统以“是”或“否”来回答，例如“22是否等于4，”或者“P是否等于NP”，系统将花费相同的计算量来回答这两个问题。因此，某些人可能会通过一种技巧来“作弊”，要求系统“解释推理过程”，即让系统生成更多的token，从而花费更多的计算量来回答问题。<br>而在经典AI、统计学、结构预测等不同领域，推理的方式是通过一个函数来衡量观测值与拟输出之间是否兼容，寻找一个输出值，将不兼容性度最小化，我们将这个函数称为“能量函数（EnergyFunction）”，如下图右侧红色方框所示，这样系统就会通过优化来进行推理。如果推理问题更复杂，系统就会花更多时间来进行推理，而对于简单的问题，它会花费较少的时间。<br>经典AI中，一切都围绕推理和搜索，几乎所有计算问题都可以归结为优化问题。这种方法在概率建模中也非常经典，比如概率图模型等。实际上，这种推理方式很接近于心理学家所称的“系统二（理智）”思维，它是指在采取某个或系列行动之前会先思考该如何做。而“系统一（直觉）”思维则是你可以在不思考的情况下完成某件事，将其变成潜意识行为，大语言模型就属于“系统一”思维。<br>解释这一过程的理论框架是能量基模型（Energy-BasedModels），你可以通过一个能量函数来捕捉变量之间的依赖关系。比如，这个能量函数在X和Y兼容时取较低的值，而在X和Y不兼容时取较大的值。你并不是直接从X计算Y，而是利用一个能量函数来衡量不兼容度，然后在给定X的情况下，找到一个能量值低的Y。<br>那么，这种架构应该如何构建？它与思维或规划的关系是怎样的？首先，你从外部世界获取观测数据，经过感知模块处理，生成关于世界状态的估计。然而，世界的状态并不是完全可观察的，因此你可能需要将感知得到的信息与内存中的内容相结合，内存中保存着你目前未能感知到的世界状态。这两者的结合将进入一个世界模型。<br>什么是世界模型呢？世界模型是在一个抽象的表示空间中给定当前的世界状态估计（EstimateoftheStateoftheWorld），并且给定你想要采取的动作序列（ActionSequence），世界模型会预测执行这些动作后世界状态的变化。例如，如果我告诉你想象一个立方体漂浮在空中，接着我让它绕垂直轴旋转90度，那么你可以很容易地在脑中形成这个立方体旋转的模型。<br>有了这样一个世界模型的话，我们就可以将其输入到目标函数中，目标函数是衡量预测的最终状态是否满足我们设定目标的函数，类似一个成本函数。我们还可以设置一些“护栏”目标（GuardrailObjectives），把它们看作是系统必须满足的约束条件，以保证系统的安全行为。系统的运行方式是通过优化来进行的，寻找一个能够最小化任务目标和护栏目标的动作序列来执行。我们这里讨论的并不是学习，而是推理。这种方法可以确保系统的安全性，因为护栏目标确保了安全性，由硬编码实现，你无法通过给系统提供一个提示，使它逃避护栏目标。<br>现在，你有了一个世界模型，执行第一动作后预测下一个状态、第二个动作预测第二个状态。你可以在整个轨迹中设置护栏、成本和任务目标。如果世界并非完全确定和可预测，世界模型可能需要包含潜在变量（LatentVariable），以考虑我们无法观察到的世界中的各种因素，这些因素使预测变得不完全精确，最终导致推理的不确定性。<br>我们需要一个能够进行层次化规划（HierarchicalPlanning）的系统，这样的系统可能会有多个抽象层次。具体来说，在低层次上，我们规划低级动作，比如肌肉控制；而在高层次上，我们能够规划抽象的宏观动作，世界模型在较长时间步长下进行预测，但其表示空间更为抽象，因此包含的细节较少。<br>举个例子，如果我在纽约大学的办公室里决定去巴黎，我可以将这个任务分解成两个子任务：去机场和坐飞机。现在，我有了一个子目标——去机场。去机场的过程包括走到街上、打车。那么，如何走到街上呢？我需要走到电梯、按下按钮、乘电梯下楼、走出大楼。如何去电梯呢？我需要从椅子上站起来、拿起包、开门、走到电梯、避开所有障碍物，直到某个时刻，我不再需要规划，直接开始行动。<br>我们总是在做这种类型的层次化规划，但实际上我们完全不知道如何让机器自主学会实现这一点。几乎每个机器人都在做层次化规划，但每一层次的表示都是手工设计的。我们需要的是训练一种我刚才描述的那种架构，它能够学习抽象的表示，不仅是世界状态的表示，还能够预测未来事件，以及在不同抽象层次下的抽象动作。这样，我们就能进行这种层次化规划。动物能做到这一点，人类也做得非常好，但我们今天的系统完全无法做到这一点。</p>
<pre><code>    生成架构对视频生成毫无意义
</code></pre>
<p>大约三年前，我写了一篇长文，解释了我认为人工智能研究应该关注的方向。这篇文章写于整个GPT热潮之前，我的看法并没有改变，ChatGPT并没有改变什么。我们在那之前就已经在做大语言模型（LLM）的工作，所以我们其实早就预见到将会发生什么。那篇论文的标题是《通向自主机器智能的道路》，我们现在称其为“高级机器智能”，因为“自主”这个词会让人感到害怕。<br>那么，一个非常自然的想法是，我们能通过视频训练自回归生成式架构吗？比如将我们用来训练自然语言系统的相同过程应用到视频上，比如你给系统展示一段视频片段，并要求它预测接下来的内容，那么系统应该能够理解世界的基本结构。训练它做出这种预测可能会使系统理解世界的内在结构。这个方法在文本中是有效的，因为预测单词是相对简单的。单词的数量有限，只有有限数量的词可能被标记。因此，虽然我们不能精确预测某个单词会跟在另一个单词后面，或者文本中缺失的是哪个单词，但我们可以为字典中的每个单词生成一个概率分布或得分。<br>然而，我们不能像处理单词那样处理图像或视频帧，目前没有好的方法来表示视频帧的分布，通常会遇到数学不可处理性的问题。你可以尝试通过统计学，或者物理学家发明的数学方法（比如贝叶斯推理等）来绕过这个问题，但实际上，最好是完全放弃做概率建模的想法，直接说，我只想学习一个能量函数，它告诉我输出与输入是否兼容，而我不关心这个能量函数是不是某个分布的负对数。<br>我们需要这样做的原因，当然是因为我们无法精确预测世界上将会发生什么。如果我们训练一个系统仅仅去预测一个帧，它将无法做得很好。因此，解决这个问题的方法是一种新的架构，我称之为“联合嵌入预测架构”（JointEmbeddingPredictiveArchitecture,JEPA），因为生成架构对于视频生成来说根本行不通。</p>
<pre><code>    改变模型的预测目标
</code></pre>
<p>你可能见过一些视频生成系统，它们生成的内容非常惊人，但背后有很多“技巧”，并且它们并不真正理解物理规律，只需要能预测出漂亮的图像。而在JEPA中，你将观察到的内容和输出（即下一个观察）一起输入到编码器中，这样预测的目标就不再是预测像素，而是预测视频或任何内容中发生的事情的抽象表示。<br>让我们来比较这两种架构。左边是生成架构，你将观测数据X通过编码器输入，然后可能通过预测器或解码器生成预测结果Y，这是一种直接的预测方法。而在右边是JEPA架构，你将X和Y都输入到编码器中，编码器可以相同也可以不同，然后从X的表示中预测Y的表示，这个表示位于一个抽象空间中。<br>这种方法将导致系统学习一个编码器，去除所有那些无法预测的内容。比如，如果我现在架起相机拍这间屋子的左侧，再将相机移到右侧，没有任何视频预测系统或者人类，能够预测每个观众的样子，或者预测墙壁上的纹理、硬木地板上的木纹。我们有很多事情是无法预测的。所以，与其坚持做那些无法预测的事物的概率预测，不如选择不预测它们，而是学习一种表示方式，将所有这些细节基本上消除，从而使得预测变得更加简单。它可能仍然需要是非确定性的，但至少我们简化了问题。<br>JEPA架构有不同的变体，其中一些包含潜在变量，另一些则是基于动作条件的。我将专注于讲解基于动作条件的变体，因为它们很有趣，实际上是世界模型。<br>在这个架构中，你有一个编码器，X是当前世界的状态或当前观测值。然后，你将一个动作输入到预测器中，这个动作是你想象的执行动作，预测器会预测下一个世界状态的表示，这就是你如何进行规划的方式。所以，我们需要训练这些系统，并且需要弄清楚如何训练这些JEPA架构。<br>这实际上并不完全是件简单的事，因为你需要训练JEPA架构中的成本函数，它衡量的是Y的表示和预测的Y表示之间的差异，即衡量它们的发散度。我们希望这个差异在训练数据上是很小的，但在训练集之外是比较大的。这就是所说的能量函数，它具有等能量等高线，我们需要确保能量在数据流形之外是很高的。<br>有两类方法来处理这个问题。一类方法叫做对比方法（ContrastiveMethod），它的做法是先将图中深蓝色的数据点，推动它们的能量下降，然后生成一些绿色闪烁的点，再推动它们的能量上升。对比方法的问题在于，当空间的维度很高时，它们无法很好地扩展。如果你的Y空间有太多维度，你需要在许多不同的地方提高能量，这样就不太好用了。你需要大量的对比样本才能让这种方法奏效。另一类是正则化方法（RegularizedMethod），这种方法通过在能量上施加正则化来最小化能够接受低能量的空间体积。<br>这就导致了两种不同类型的学习过程，一种是对比学习过程，你需要生成那些对比点，然后将它们的能量推高到某个损失函数（LossFunction）。而另一种是使用正则化方法，它将“收缩”数据流形，确保流形外的能量较高。<br>有很多技术可以用来实现这一点。大约五六年前，我们让系统学习图像的表示。取一张图像，对其进行某种方式的腐蚀或转换，然后将原始图像和腐蚀后的版本输入到相同的编码器中，并训练一个预测器，从腐蚀后的图像中预测原始图像的表示。当系统训练完成后，去掉预测器，使用编码器输出的表示作为输入，提供给一个简单的线性分类器，或者类似的监督训练方法，来验证学习到的表示是否良好。这个想法非常古老，可以追溯到1990年代，被称为SII网络（SiameseNetworks）。而一些关于JEPA的最新研究则是在此基础上增加了预测器，例如，谷歌提出的SimCLR。<br>然而，这里维度是受到限制的。我们可以用正则化方法训练JEPA，工作方式如下：让编码器基本上忽略输入，产生一个常量输出，这样预测误差始终为零。你还需要防止系统发生崩溃，实现这一目标的间接方式是保持从编码器输出的信息内容。你将有一个训练目标函数，它是负信息内容（因为在机器学习中通常是最小化而不是最大化）。一种做法是，将来自编码器的表示向量在一个样本批次中进行处理，确保它们包含有意义的信息。如何做到呢？你可以取出表示向量的矩阵，并计算该矩阵与其转置矩阵的乘积，得到一个协方差矩阵，然后尝试使这个协方差矩阵接近单位矩阵。<br>一个坏消息是，这种方法实际上是通过对变量之间依赖关系做出非常强的假设来近似信息内容。事实上，这只是信息内容的上界，我们希望实际的信息内容（即低于上界的部分）会符合这个假设。从理论上讲，这种方法稍显不规则，但它确实有效。所以，尽管存在一些理论上的问题，但它还是能起到作用。<br>你从编码器中得到一个矩阵，其中包含多个样本，每个向量是一个独立的变量。我们要做的是让每个变量都具有信息性。因此，我们会尝试防止变量的方差变为零，强制它为1，然后我们会对变量之间进行解相关操作。这意味着我们要计算这个矩阵的协方差矩阵，将矩阵与其转置相乘，然后尽量让结果的协方差矩阵接近单位矩阵。还有其他方法试图让样本正交，而不是让变量正交，这些方法属于对比样本的方法。但是，它们在高维度时不起作用，而且需要较大的批量数据。<br>还有其他的一些方法，比如VAG（方差不变协方差正则化），它有特定的损失函数来处理协方差矩阵。MCR平方（MCR²），来源于神经科学。这是一类方法，我非常喜欢这些方法，并且认为它们效果非常好，我预计未来会看到更多类似的方法。<br>另外还有一类方法，近年来在某种程度上更加成功，这些方法基于蒸馏（distillation）。<br>同样的，你有两个编码器，它们仍然是JEPA架构。两个编码器共享相同的权重，但并非完全相同。右边的编码器会得到通过指数移动平均得到的左边编码器权重的一个版本。简单来说，你强制右边的编码器更新权重的速度比左边的编码器慢，出于某种原因，这可以防止系统崩溃。<br>对于蒸馏，现在有一些理论研究。实际上，这项工作刚刚完成，它为什么会有效的原因仍然有些神秘。老实说，我对这种方法有点感到不太舒服，但我们必须接受它实际上是有效的。真正的工程师在构建东西时未必知道为什么它能工作，但他们能够做出有效的成果，那才是好工程师。这种方法不需要负样本，它们的系统可以学习通用特征，之后你可以将这些特征应用到任何下游任务中，而这些特征的效果非常好。所以，这种方法非常有效。</p>
<pre><code>    实际效果如何？	
</code></pre>
<p>最近，我们开发了一个适用于视频的版本——V-JEPA。这个系统从视频中获取16帧的片段，然后对这些16帧进行腐蚀，通过遮盖其中的一部分，再将其输入到相同的编码器中。接着，训练一个预测器，从部分遮盖或腐蚀的表示中预测完整视频的表示。它的效果非常好，因为你可以学习到一些特征，然后将这些特征输入到一个系统中，这个系统能够对视频中的动作进行分类，并且使用这些方法，你能获得非常好的结果。<br>这里有一个非常有趣的发现，如果你展示给这个系统一些发生了非常奇怪的事情的视频，比如一个物体突然消失或形状发生变化，这个系统能够告诉你：“我的预测误差飙升了，窗格中发生了某些奇怪的事情。”也就是说，尽管这个系统很简单，但它已经学会了一定程度的常识。它能够告诉你，世界上是否发生了某些非常奇怪的事情。<br>最新的工作是基于Dino的世界模型。这是使用Dino特征，并在其上训练一个预测器，使其成为一个基于动作条件的世界模型，从而可以用于规划。基本的做法是，训练一个预测器，使用通过Dino编码器处理后的世界图像，并结合机器人可能采取的动作。然后，你通过这个系统预测接下来会发生什么，即根据所采取的动作预测接下来的图像或视频帧。<br>这个规划过程非常简单。你首先观察初始状态，将其输入到Dino编码器中，然后通过你的世界模型进行多步预测，想象执行一系列动作。接着，你有一个目标状态，例如通过目标图像来表示，运行到编码器中，然后计算预测状态和目标图像所代表的状态之间在状态空间中的距离。规划的过程实际上就是通过优化找到一系列动作，并最小化距离。<br>至于推理时的计算，大家似乎很兴奋地谈论测试时间计算之类的内容，好像这是一项新技术，但其实这在最优控制中是非常经典的，叫做模型预测控制（ModelPredictiveControl），已经存在了很长时间了。最早关于使用这种类型模型进行规划的论文出现在60年代初，而那些真正学习模型的工作则比较晚，更多来自于70年代，很多在最优控制领域的人应该知道这个方法。<br>假设你有一个“T”形物体，需要将其推到预定的位置。你会提供该目标位置的图像，并将图像经过编码器，得到表示空间中的目标状态。上方显示的是在真实世界中执行一系列规划好的动作后实际发生的情况，而下方显示的是系统内部对该动作序列的预测——经过一个解码器生成了内部状态的图像表示（注意，解码器是单独训练的，并非直接进行图像生成）。<br>再看一个更有趣的例子：这里初始状态是一堆随机散落在地板上的蓝色筹码，而目标状态显示在上方。你看到的是规划后生成的一系列动作，以及机器人执行这些动作的过程。这个环境的动力学相当复杂，因为这些蓝色筹码之间可以相互作用，产生多种交互效果。系统仅通过观察大量的状态-动作-下一个状态的转变数据，就学会了这种规律。这种方法在机械臂操作、迷宫导航、以及推动物体等多种情境下均能取得良好的效果。<br>我们将类似的想法应用于导航任务。基本上，这是视频序列的应用，每一帧都是在特定时刻捕获的，机器人通过里程计知道自己移动了多远，从而获得下一帧。你训练一个系统，预测如果执行某个特定的运动动作，世界会是什么样子。接下来，你可以告诉系统，比如“导航到那个点”，系统就会执行，并在过程中避开障碍物。</p>
<pre><code>    AI的未来：推翻传统逻辑
</code></pre>
<p>我有一些建议：首先，放弃生成模型。虽然，这是目前大家都在研究的最流行的方法，但请停止继续在这个方向上工作，转而研究JEA；第二，放弃概率模型，转向EBM；第三，放弃对比方法，转向正则化方法；最后，放弃强化学习，这是我长期以来一直在强调的，因为它效率低下。你只有在模型不准确或代价函数不准确时，才需要使用强化学习。<br>如果你对人类水平的人工智能感兴趣，我建议你不要研究大语言模型。事实上，如果你在学术界，最好不要从事大语言模型研究，因为你会和成百上千、拥有数万GPU的研究者竞争，但根本没有什么新的东西。<br>去做点其他的事情吧，世界上还有许多问题需要解决，例如如何使用大规模数据训练这些模型，如何改进规划算法，现有方法仍然不够高效。如果你对优化、应用数学有兴趣，这是一个很好的方向。还有像是带有不确定性的规划、层次化规划、学习代价模型以及探索问题等，这些都是值得深入研究的领域。<br>未来，我们将拥有普遍的虚拟助手，它们将随时陪伴我们，调解我们与数字世界的所有互动，我们无法承受这些系统仅由少数几家公司来提供。这意味着，构建这些系统的模型需要是开源的，并且广泛可用。虽然这些系统的训练成本昂贵，但一旦有了基础模型，为特定应用进行微调是相对便宜的，很多人都能负担得起。因此，这些AI平台需要是共享的，它们需要支持所有世界语言，理解全球的文化、价值观和兴趣点。<br>世界上没有任何一个单一的实体能够训练这种类型的基础模型，这可能需要以协作或分布式的方式进行。对于有兴趣进行大规模优化的应用数学家来说，这仍然是一个很好的研究方向。所以，开源AI平台是必要的。<br>我看到的危机是，在欧洲和其他地方，地缘政治竞争可能会促使政府将开源模型的发布视为非法，因为他们误以为一个国家如果保守科学秘密，就能保持领先地位，这是一个巨大的错误。当你在秘密中进行研究时，你实际上是在落后，这是不可避免的。最终，世界其他地方将转向开源，并超越你们。事实上，开源模型正在稳步赶超闭源模型。<br>参考链接：<br>https :&#x2F;&#x2F;<a target="_blank" rel="noopener" href="http://www.youtube.com/watch?v=xnFmnU0Pp-8">www.youtube.com/watch?v=xnFmnU0Pp-8</a><br>声明：本文为AI前线翻译整理，不代表平台观点，未经许可禁止转载。</p>
<pre><code>    直播预告	
</code></pre>
<p>2月11日至2月27日，AI前线视频号、InfoQ视频号、霍太稳视频号带来DeepSeek系列直播，解析DeepSeek爆火背后的技术突破、商业化路径与行业影响。从纯强化学习复现o1能力到算力控制，从创新文化到AI竞争格局，每场直播都深度解析一个关键问题。<br>📅欢迎扫码二维码预约直播，一同探索DeepSeek如何引领AI领域的创新与未来！<br>会议推荐<br>在AI大模型技术如汹涌浪潮席卷软件开发领域的当下，变革与机遇交织，挑战与突破共生。2025年4月10-12日，QCon全球软件开发大会将在北京召开，以“智能融合，引领未来”为年度主题，汇聚各领域的技术先行者以及创新实践者，为行业发展拨云见日。现在报名可以享受8折优惠，单张门票立省1360元，详情可联系票务经理18514549229咨询。<br>今日荐文<br>十多个模型打不过DeepSeek一个？奥特曼受不了了：怒将GPT和o系列合并，非思维链模型到头！<br>“阿里是当下苹果最好的选择，甚至可能没有之一”<br>DeepMind也酸了？CEO怒喷DeepSeek成本是炒作：很多技术都来自谷歌和DeepMind<br>“首席炒作官”Altman“碰瓷”摩尔定律引社区不满，1400万美元广告被批“都能训练3个DeepSeekV3了！”<br>DeepSeek一周：日活超豆包、云平台抢食算力、卖课疯赚；用AI大量替代员工？创始人声明；字节辟谣员工被送精神治疗|AI周报<br>你也「在看」吗？👇</p>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">ZejunCao</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://zejuncao.github.io/2025/02/14/1000003765-2247633458-1/">https://zejuncao.github.io/2025/02/14/1000003765-2247633458-1/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">ZejunCao</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE/">
                                    <span class="chip bg-color">开源项目</span>
                                </a>
                            
                                <a href="/tags/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%E8%81%9A%E5%90%88%E5%B9%B3%E5%8F%B0/">
                                    <span class="chip bg-color">微信公众号聚合平台</span>
                                </a>
                            
                                <a href="/tags/AI%E5%89%8D%E7%BA%BF/">
                                    <span class="chip bg-color">AI前线</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2025/02/14/1000000848-2247499533-1/">
                    <div class="card-image">
                        
                        <img src="/medias/frontcover/1000000848_2247499533_1.jpg" class="responsive-img" alt="三张图速通 DeepSeek-R1 论文和技术原理">
                        
                        <span class="card-title">三张图速通 DeepSeek-R1 论文和技术原理</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2025-02-14
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            ZejunCao
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE/">
                        <span class="chip bg-color">开源项目</span>
                    </a>
                    
                    <a href="/tags/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%E8%81%9A%E5%90%88%E5%B9%B3%E5%8F%B0/">
                        <span class="chip bg-color">微信公众号聚合平台</span>
                    </a>
                    
                    <a href="/tags/DASOU/">
                        <span class="chip bg-color">DASOU</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2025/02/14/1000003765-2247633458-2/">
                    <div class="card-image">
                        
                        <img src="/medias/frontcover/1000003765_2247633458_2.jpg" class="responsive-img" alt="基于百川大模型的首个AI儿科医生正式“上岗”：会诊结果可与专家高度吻合">
                        
                        <span class="card-title">基于百川大模型的首个AI儿科医生正式“上岗”：会诊结果可与专家高度吻合</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2025-02-14
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            ZejunCao
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE/">
                        <span class="chip bg-color">开源项目</span>
                    </a>
                    
                    <a href="/tags/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%E8%81%9A%E5%90%88%E5%B9%B3%E5%8F%B0/">
                        <span class="chip bg-color">微信公众号聚合平台</span>
                    </a>
                    
                    <a href="/tags/AI%E5%89%8D%E7%BA%BF/">
                        <span class="chip bg-color">AI前线</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>



<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="/libs/aplayer/Meting.min.js"></script>

    

    <div class="container row center-align"
         style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2025</span>
            
            <a href="/about" target="_blank">ZejunCao</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            
            <br>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/ZejunCao" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:caozejun369@163.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1378463428" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1378463428" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>



    <a href="https://weibo.com/u/5915009280" class="tooltipped" target="_blank" data-tooltip="关注我的微博: https://weibo.com/u/5915009280" data-position="top" data-delay="50">
        <i class="fab fa-weibo"></i>
    </a>





</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 白天和黑夜主题 -->
<div class="stars-con">
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>  
</div>

<script>
    function switchNightMode() {
        $('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($('body')),
        setTimeout(function () {
            $('body').hasClass('DarkMode') 
            ? ($('body').removeClass('DarkMode'), localStorage.setItem('isDark', '0'), $('#sum-moon-icon').removeClass("fa-sun").addClass('fa-moon')) 
            : ($('body').addClass('DarkMode'), localStorage.setItem('isDark', '1'), $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')),
            
            setTimeout(function () {
            $('.Cuteen_DarkSky').fadeOut(1e3, function () {
                $(this).remove()
            })
            }, 2e3)
        })
    }
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    
    
    

    <!-- 雪花特效 -->
    

    <!-- 鼠标星星特效 -->
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
